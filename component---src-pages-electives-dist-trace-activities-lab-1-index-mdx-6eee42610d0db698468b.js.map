{"version":3,"sources":["webpack:///./src/pages/electives/dist-trace/activities/lab1/index.mdx"],"names":["name","_frontmatter","InlineNotification","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-electives-dist-trace-activities-lab-1-index-mdx-6eee42610d0db698468b.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h3>{`Prerequisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Connection to the internet (docker.io, github.com, maven repo, npm registry)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.docker.com/products/docker-desktop\"\n        }}>{`Docker for Desktop`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.docker.com/compose/install\"\n        }}>{`Docker-Compose`}</a></li>\n      <li parentName=\"ul\">{`Code Editor - We recommend `}<a parentName=\"li\" {...{\n          \"href\": \"https://code.visualstudio.com\"\n        }}>{`VSCode`}</a></li>\n    </ul>\n    <h2>{`General Instructions`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Clone the git repository`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`git clone https://github.com/ibm-cloud-architecture/learning-distributed-tracing-101.git\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Change to the lab directory`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cd lab-jaeger-nodejs\n`}</code></pre>\n      </li>\n    </ol>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`NOTE:`}</strong>{` The solution to the lab is located `}<a parentName=\"p\" {...{\n          \"href\": \"./solution\"\n        }}>{`here`}</a>{`.`}</p>\n    </InlineNotification>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`NOTE:`}</strong>{` `}<inlineCode parentName=\"p\">{`docker-compose`}</inlineCode>{` is already configured to run `}<inlineCode parentName=\"p\">{`Jaeger`}</inlineCode>{`.`}</p>\n      <p>{`In case that stopping docker-compose doesn’t work with `}<inlineCode parentName=\"p\">{`Ctrl-C`}</inlineCode>{`, you can stop it using `}<inlineCode parentName=\"p\">{`docker-compose stop`}</inlineCode></p>\n    </InlineNotification>\n    <h2>{`Test your environment`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Change directory to the lab`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cd lab-jaeger-nodejs\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Test the service without tracing enable`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Try the service`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n    </ol>\n    <h2>{`Add client libraries`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the tracing client library for the node.js `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`, edit the file `}<inlineCode parentName=\"p\">{`service-a/package.json`}</inlineCode>{` and add the dependency for `}<inlineCode parentName=\"p\">{`jaeger-client`}</inlineCode>{`\nThe json section should look like the following:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n\"dependencies\": {\n    \"express\": \"^4.17.1\",\n    \"jaeger-client\": \"^3.15.0\",\n    \"bent\": \"^6.0.5\"\n  }\n}\n`}</code></pre>\n      </li>\n    </ol>\n    <h2>{`Tracing every HTTP request`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a function at the end of the file `}<inlineCode parentName=\"p\">{`service-a/app.js`}</inlineCode>{` with the following code to initialize the Jaeger tracer.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function initTracer (serviceName) {\n  const initJaegerTracer = require('jaeger-client').initTracerFromEnv\n\n  // Sampler set to const 1 to capture every request, do not do this for production\n  const config = {\n    serviceName: serviceName\n  }\n  // Only for DEV the sampler will report every span\n  // Other sampler types are described here: https://www.jaegertracing.io/docs/1.7/sampling/\n  config.sampler = { type: 'const', param: 1 }\n\n  return initJaegerTracer(config)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`At line `}<inlineCode parentName=\"p\">{`7`}</inlineCode>{` add the following code to use the function `}<inlineCode parentName=\"p\">{`initTracer`}</inlineCode>{` to initialize the Tracer and set the tracer in `}<inlineCode parentName=\"p\">{`opentracing`}</inlineCode>{` .`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const tracer = initTracer(serviceName)\nconst opentracing = require('opentracing')\nopentracing.initGlobalTracer(tracer)\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a function at the end of the file `}<inlineCode parentName=\"p\">{`service/app.js`}</inlineCode>{` with the following code to trace every incoming HTTP request.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function tracingMiddleWare (req, res, next) {\n  const tracer = opentracing.globalTracer();\n  // Extracting the tracing headers from the incoming http request\n  const wireCtx = tracer.extract(opentracing.FORMAT_HTTP_HEADERS, req.headers)\n  // Creating our span with context from incoming request\n  const span = tracer.startSpan(req.path, { childOf: wireCtx })\n  // Use the log api to capture a log\n  span.log({ event: 'request_received' })\n\n  // Use the setTag api to capture standard span tags for http traces\n  span.setTag(opentracing.Tags.HTTP_METHOD, req.method)\n  span.setTag(opentracing.Tags.SPAN_KIND, opentracing.Tags.SPAN_KIND_RPC_SERVER)\n  span.setTag(opentracing.Tags.HTTP_URL, req.path)\n\n  // include trace ID in headers so that we can debug slow requests we see in\n  // the browser by looking up the trace ID found in response headers\n  const responseHeaders = {}\n  tracer.inject(span, opentracing.FORMAT_HTTP_HEADERS, responseHeaders)\n  res.set(responseHeaders)\n\n  // add the span to the request object for any other handler to use the span\n  Object.assign(req, { span })\n\n  // finalize the span when the response is completed\n  const finishSpan = () => {\n    if (res.statusCode >= 500) {\n      // Force the span to be collected for http errors\n      span.setTag(opentracing.Tags.SAMPLING_PRIORITY, 1)\n      // If error then set the span to error\n      span.setTag(opentracing.Tags.ERROR, true)\n\n      // Response should have meaning info to futher troubleshooting\n      span.log({ event: 'error', message: res.statusMessage })\n    }\n    // Capture the status code\n    span.setTag(opentracing.Tags.HTTP_STATUS_CODE, res.statusCode)\n    span.log({ event: 'request_end' })\n    span.finish()\n  }\n  res.on('finish', finishSpan)\n  next()\n}\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`The `}<inlineCode parentName=\"p\">{`tracer.extract(opentracing.FORMAT_HTTP_HEADERS, req.headers)`}</inlineCode>{` function above will attempt to extract the tracing headers from the incoming HTTP request. If the incoming request contains trace information, it will be used to create a child span from the previous service; the current service will then be correctly associated with the tracing dependency graph.`}</p>\n    <p>{`The new span is created using the function `}<inlineCode parentName=\"p\">{`tracer.startSpan(req.path, { childOf: wireCtx })`}</inlineCode></p>\n    <p>{`The first activity captured is a log event of `}<inlineCode parentName=\"p\">{`request_end`}</inlineCode>{` with the function `}<inlineCode parentName=\"p\">{`span.log({ event: 'request_received' })`}</inlineCode></p>\n    <p>{`The new span context is added to the HTTP response, this way the HTTP client can have this information in case of troubleshooting a particular HTTP request.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`const responseHeaders = {}\ntracer.inject(span, opentracing.FORMAT_HTTP_HEADERS, responseHeaders)\nres.set(responseHeaders)\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`span`}</inlineCode>{` is stored in the `}<inlineCode parentName=\"p\">{`req`}</inlineCode>{` object, this way the main endpoint handler can use it in case of attaching information into the same span or creating a new child span using this top-level `}<inlineCode parentName=\"p\">{`span`}</inlineCode>{` as a parent.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`Object.assign(req, { span })\n`}</code></pre>\n    <p>{`When the request is finished by listening on the event `}<inlineCode parentName=\"p\">{`finish`}</inlineCode>{` in `}<inlineCode parentName=\"p\">{`res.on('finish', finishSpan)`}</inlineCode>{`, the response is analyzed to check if there was an error. If it is an error then the span is set to be sampled and marked as error using the following functions which includes a log event:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`span.setTag(opentracing.Tags.SAMPLING_PRIORITY, 1)\nspan.setTag(opentracing.Tags.ERROR, true)\nspan.log({ event: 'error', message: res.statusMessage })\n`}</code></pre>\n    <p>{`For every HTTP response the status Code and a log event are captured. With log event `}<inlineCode parentName=\"p\">{`request_end`}</inlineCode>{` you can will easily see the time spent since the log event `}<inlineCode parentName=\"p\">{`request_start`}</inlineCode>{` . Finaly the span needs to be finished.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`span.setTag(opentracing.Tags.HTTP_STATUS_CODE, res.statusCode)\nspan.log({ event: 'request_end' })\nspan.finish()\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`At line `}<inlineCode parentName=\"p\">{`12`}</inlineCode>{` add the following code to use the function `}<inlineCode parentName=\"p\">{`tracingMiddleWare`}</inlineCode>{` as the first middleware to handle every HTTP request.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`app.use(tracingMiddleWare)\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Now that the code is instrumented, call the same API endpoint a few times to capture the traces.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"78.125%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHZVWkSwf/EABoQAAICAwAAAAAAAAAAAAAAAAARAxMCEBL/2gAIAQEAAQUC4wVcRVHpCP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAEDBQAAAAAAAAAAAAAAAAABApEREiAyM//aAAgBAQAGPwKlqGjYObYw/8QAGRAAAwADAAAAAAAAAAAAAAAAAAERIVHx/9oACAEBAAE/IcBo6hy5xZE1kjRB/9oADAMBAAIAAwAAABD33//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAIBAwUAAAAAAAAAAAAAAAERABAh8DFBUYGh/9oACAEBAAE/ELkwhAhQ6jt/DiPwPIFQOAegUv/Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"find-trace\",\n        \"title\": \"find-trace\",\n        \"src\": \"/static/a812262792e471627b503db143aaf54e/2e753/nodejs-service-a-find-trace.jpg\",\n        \"srcSet\": [\"/static/a812262792e471627b503db143aaf54e/69549/nodejs-service-a-find-trace.jpg 288w\", \"/static/a812262792e471627b503db143aaf54e/473e3/nodejs-service-a-find-trace.jpg 576w\", \"/static/a812262792e471627b503db143aaf54e/2e753/nodejs-service-a-find-trace.jpg 1152w\", \"/static/a812262792e471627b503db143aaf54e/74f4b/nodejs-service-a-find-trace.jpg 1728w\", \"/static/a812262792e471627b503db143aaf54e/d5b06/nodejs-service-a-find-trace.jpg 2230w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol {...{\n      \"start\": 9\n    }}>\n      <li parentName=\"ol\">{`Click on one of the traces, then expand the trace’s `}<inlineCode parentName=\"li\">{`Tags`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`Logs`}</inlineCode>{`. You should see information about the HTTP request such as `}<inlineCode parentName=\"li\">{`http.method`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`GET`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`http.status_code`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`200`}</inlineCode>{`. The Logs section has two log events; one with `}<inlineCode parentName=\"li\">{`request_received`}</inlineCode>{` and the final log `}<inlineCode parentName=\"li\">{`request_end`}</inlineCode>{`. The timestamps for each of the log events give you how much time the request took to be processed by your service business logic. In this example, it took `}<inlineCode parentName=\"li\">{`4ms`}</inlineCode>{`.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"72.56944444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHXVWkSwf/EABgQAAMBAQAAAAAAAAAAAAAAAAACExIg/9oACAEBAAEFAsKTQmnH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAIzkQEgMv/aAAgBAQAGPwLjBGtEa1p//8QAGRABAQADAQAAAAAAAAAAAAAAAQARIfEx/9oACAEBAAE/IVQFA8MGrnbnbdls3//aAAwDAQACAAMAAAAQW9//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EFqIf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAAICAQUAAAAAAAAAAAAAAAABETHwQVFhccH/2gAIAQEAAT8QtuYOXRQPWbjsZT4KFIUNInwf/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"trace-details\",\n        \"title\": \"trace-details\",\n        \"src\": \"/static/657f1dc9efff832778f564cd5ee2ecf1/2e753/nodejs-service-a-trace-details.jpg\",\n        \"srcSet\": [\"/static/657f1dc9efff832778f564cd5ee2ecf1/69549/nodejs-service-a-trace-details.jpg 288w\", \"/static/657f1dc9efff832778f564cd5ee2ecf1/473e3/nodejs-service-a-trace-details.jpg 576w\", \"/static/657f1dc9efff832778f564cd5ee2ecf1/2e753/nodejs-service-a-trace-details.jpg 1152w\", \"/static/657f1dc9efff832778f564cd5ee2ecf1/74f4b/nodejs-service-a-trace-details.jpg 1728w\", \"/static/657f1dc9efff832778f564cd5ee2ecf1/617ec/nodejs-service-a-trace-details.jpg 2224w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol {...{\n      \"start\": 10\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Force an error in the service by calling the `}<inlineCode parentName=\"p\">{`/error`}</inlineCode>{` endpoint.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/error\nsome error (ノ ゜Д゜)ノ ︵ ┻━┻\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 11\n    }}>\n      <li parentName=\"ol\">{`Click `}<inlineCode parentName=\"li\">{`Find Traces`}</inlineCode>{` now it should show a trace mark with `}<inlineCode parentName=\"li\">{`Error`}</inlineCode>{` in red.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"78.125%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHs5UklR//EABoQAAEFAQAAAAAAAAAAAAAAAAMAAhARExL/2gAIAQEAAQUC4ZWYlmOKj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAEDBQAAAAAAAAAAAAAAAAACEZEBEiAyM//aAAgBAQAGPwJraMaJg5pjD//EABkQAAMBAQEAAAAAAAAAAAAAAAABEfFxgf/aAAgBAQABPyFI8FDLmbJULgjP/9oADAMBAAIAAwAAABDXH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAIBBAMBAAAAAAAAAAAAAAABESExQfBRgZHB/9oACAEBAAE/EJGVLDHhJn04N0+FQqdjErBzWR//2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"node-service\",\n        \"title\": \"node-service\",\n        \"src\": \"/static/57d3497c977176d705daa2d3b1260f86/2e753/nodejs-service-a-error.jpg\",\n        \"srcSet\": [\"/static/57d3497c977176d705daa2d3b1260f86/69549/nodejs-service-a-error.jpg 288w\", \"/static/57d3497c977176d705daa2d3b1260f86/473e3/nodejs-service-a-error.jpg 576w\", \"/static/57d3497c977176d705daa2d3b1260f86/2e753/nodejs-service-a-error.jpg 1152w\", \"/static/57d3497c977176d705daa2d3b1260f86/74f4b/nodejs-service-a-error.jpg 1728w\", \"/static/57d3497c977176d705daa2d3b1260f86/49139/nodejs-service-a-error.jpg 2222w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol {...{\n      \"start\": 12\n    }}>\n      <li parentName=\"ol\">{`Click on the trace with the `}<inlineCode parentName=\"li\">{`Error`}</inlineCode>{`, then expand the trace’s `}<inlineCode parentName=\"li\">{`Tags`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`Logs`}</inlineCode>{`. You should see information about the trace such as `}<inlineCode parentName=\"li\">{`error`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`http.status_code`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`500`}</inlineCode>{`. The Logs section has an additional log event with `}<inlineCode parentName=\"li\">{`message = Internal Server Error`}</inlineCode>{`. Expand the log event.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"83.68055555555556%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAEDAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB9ea1MW45oQL/AP/EABkQAAIDAQAAAAAAAAAAAAAAAAITABESIP/aAAgBAQABBQLA0oIoO//EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAEDAQE/ASH/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIzkRESIP/aAAgBAQAGPwLGiEbaI213/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAERUfEQICFh/9oACAEBAAE/IYxhuFGKNh18HXT/2gAMAwEAAgADAAAAEFsfvP/EABkRAAEFAAAAAAAAAAAAAAAAAAABEBEhMf/aAAgBAwEBPxBLIMN//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QYz//xAAfEAADAAAGAwAAAAAAAAAAAAAAAREhMUFRkfBhgcH/2gAIAQEAAT8QTUsu4WLeQuszpsdw+CcdU9ihlyPAuRCNWf/Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"service-error\",\n        \"title\": \"service-error\",\n        \"src\": \"/static/5260896984a2dc922ea586eae0ef374a/2e753/nodejs-service-a-error-details.jpg\",\n        \"srcSet\": [\"/static/5260896984a2dc922ea586eae0ef374a/69549/nodejs-service-a-error-details.jpg 288w\", \"/static/5260896984a2dc922ea586eae0ef374a/473e3/nodejs-service-a-error-details.jpg 576w\", \"/static/5260896984a2dc922ea586eae0ef374a/2e753/nodejs-service-a-error-details.jpg 1152w\", \"/static/5260896984a2dc922ea586eae0ef374a/74f4b/nodejs-service-a-error-details.jpg 1728w\", \"/static/5260896984a2dc922ea586eae0ef374a/b6964/nodejs-service-a-error-details.jpg 2226w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Finding slow HTTP requests`}</h2>\n    <p>{`In the `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`, we have the API endpoint `}<inlineCode parentName=\"p\">{`/sayHello`}</inlineCode>{`. We used this endpoint in the previous section but called it only once. This endpoint has some strange behavior. Not all responses are fast (=~ 2ms) and often the response is slow (=~ 100ms).`}</p>\n    <ol {...{\n      \"start\": 13\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Stop docker-compose with `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` and start it again.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose up\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run  the following code to call the API multiple times or open the URL endpoint http://localhost:8080/sayHello/Carlos on the web browser and click refresh multiple time.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`i=0;\nwhile [ $i -lt 15 ];\ndo curl http://localhost:8080/sayHello/Carlos -I -s | head -n 1; i=$((i+1));\ndone;\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"76.04166666666667%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHs5Uk1B//EABkQAAIDAQAAAAAAAAAAAAAAAAMSAAIRIP/aAAgBAQABBQJa4g4g+P/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAADKRAAECIP/aAAgBAQAGPwIaUDKgZXH/xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQITFR8f/aAAgBAQABPyGcOHQoXyA1oXGP/9oADAMBAAIAAwAAABD0H//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAAICAgMBAAAAAAAAAAAAAAEhABGBoRBR0fD/2gAIAQEAAT8QIUmPRQxA5pecHECalqI/Zjsoz//Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"serv-slow\",\n        \"title\": \"serv-slow\",\n        \"src\": \"/static/5e02792696c2191207ed32a0d02087db/2e753/nodejs-service-a-slow.jpg\",\n        \"srcSet\": [\"/static/5e02792696c2191207ed32a0d02087db/69549/nodejs-service-a-slow.jpg 288w\", \"/static/5e02792696c2191207ed32a0d02087db/473e3/nodejs-service-a-slow.jpg 576w\", \"/static/5e02792696c2191207ed32a0d02087db/2e753/nodejs-service-a-slow.jpg 1152w\", \"/static/5e02792696c2191207ed32a0d02087db/74f4b/nodejs-service-a-slow.jpg 1728w\", \"/static/5e02792696c2191207ed32a0d02087db/de5bb/nodejs-service-a-slow.jpg 2304w\", \"/static/5e02792696c2191207ed32a0d02087db/71967/nodejs-service-a-slow.jpg 2604w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`In the picture above, you can see a timeline graph with each trace represented with a circle. In this case, we have 15 traces in the result set when we clicked `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode>{`.\nSome traces are taking approximately 100ms and others are taking approximately 2ms.\nYou can see the pattern where only every 3rd request the response is slow.\nWhen troubleshooting, we are interested first in the slowest requests. You can click on one of the traces on the graph, or you can sort in the table by `}<inlineCode parentName=\"p\">{`Longest First`}</inlineCode>{`.`}</p>\n    <ol {...{\n      \"start\": 17\n    }}>\n      <li parentName=\"ol\">{`Select the trace that took the longest time (103ms). Expand all the information for the single-span operation `}<inlineCode parentName=\"li\">{`/sayHello`}</inlineCode>{` including tags and logs.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"74.30555555555556%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB6+uyRLB//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAITEiD/2gAIAQEAAQUCwpNSa8f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAMgECkSD/2gAIAQEABj8CWBK4JXOP/8QAGBAAAwEBAAAAAAAAAAAAAAAAARARAEH/2gAIAQEAAT8hoALzkepBXf/aAAwDAQACAAMAAAAQix//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EFqIf//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGf/xAAeEAACAQQDAQAAAAAAAAAAAAAAASERQXHRMYGR8f/aAAgBAQABPxCAQ0NBYRUudNHxmjkJuljJeH//2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"slow-details\",\n        \"title\": \"slow-details\",\n        \"src\": \"/static/473909ddbd70ad6a58481809af66e76f/2e753/nodejs-service-a-slow-details.jpg\",\n        \"srcSet\": [\"/static/473909ddbd70ad6a58481809af66e76f/69549/nodejs-service-a-slow-details.jpg 288w\", \"/static/473909ddbd70ad6a58481809af66e76f/473e3/nodejs-service-a-slow-details.jpg 576w\", \"/static/473909ddbd70ad6a58481809af66e76f/2e753/nodejs-service-a-slow-details.jpg 1152w\", \"/static/473909ddbd70ad6a58481809af66e76f/74f4b/nodejs-service-a-slow-details.jpg 1728w\", \"/static/473909ddbd70ad6a58481809af66e76f/de5bb/nodejs-service-a-slow-details.jpg 2304w\", \"/static/473909ddbd70ad6a58481809af66e76f/e32c5/nodejs-service-a-slow-details.jpg 2608w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol {...{\n      \"start\": 18\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The handler has a sleep step in the function `}<inlineCode parentName=\"p\">{`sayHello`}</inlineCode>{` that delays the response every 3rd request. Open the file `}<inlineCode parentName=\"p\">{`service-a/hello.js`}</inlineCode>{` and located the culprit code.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`// simulate a slow request every 3 requests\nsetTimeout(async () => {\n  const response = await formatGreeting(name);\n  res.send(response)\n}, counter++ % 3 === 0 ? 100 : 0)\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Remove the `}<inlineCode parentName=\"p\">{`setTimeout`}</inlineCode>{` function and replace it with the two functions `}<inlineCode parentName=\"p\">{`formatGreeting`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`res.send`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const response = await formatGreeting(name);\nres.send(response)\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run again the following code to call the API multiple times or open the URL endpoint http://localhost:8080/sayHello/Carlos on the web browser and click refresh multiple time.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`i=0;\nwhile [ $i -lt 15 ];\ndo curl http://localhost:8080/sayHello/Carlos -I -s | head -n 1; i=$((i+1));\ndone;\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode>{`.`}</p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"65.97222222222221%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdlQkFh//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAIBERIQ/9oACAEBAAEFAsrWEJRO0f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAADKRAAECIP/aAAgBAQAGPwIaUDKg0uP/xAAbEAACAQUAAAAAAAAAAAAAAAAAAREQITFR0f/aAAgBAQABPyHGtaE/KKM0UaNn/9oADAMBAAIAAwAAABC0H//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAQUAAAAAAAAAAAAAAAEAESExUXGB8P/aAAgBAQABPxBIpTsUdQyvBxAgHjQMbFQKCXBn/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"node-service\",\n        \"title\": \"node-service\",\n        \"src\": \"/static/428be68bc13121694336a89bc5ed046e/2e753/nodejs-service-a-fast.jpg\",\n        \"srcSet\": [\"/static/428be68bc13121694336a89bc5ed046e/69549/nodejs-service-a-fast.jpg 288w\", \"/static/428be68bc13121694336a89bc5ed046e/473e3/nodejs-service-a-fast.jpg 576w\", \"/static/428be68bc13121694336a89bc5ed046e/2e753/nodejs-service-a-fast.jpg 1152w\", \"/static/428be68bc13121694336a89bc5ed046e/74f4b/nodejs-service-a-fast.jpg 1728w\", \"/static/428be68bc13121694336a89bc5ed046e/de5bb/nodejs-service-a-fast.jpg 2304w\", \"/static/428be68bc13121694336a89bc5ed046e/77ed8/nodejs-service-a-fast.jpg 2612w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`You can see now that all HTTP requests are fast and the problem is fixed.`}</p>\n    <p>{`Cloud Native applications can be composed of microservices and each microservice handling multiple endpoints. Instrumenting the code of these microservices enables us to obverse their behavior and quickly narrow down to a specific service; and within that service, to further narrow down to a specific endpoint having problems. `}</p>\n    <p>{`As demonstrated in this exercise, you can increase the observability of your application starting with a single trace and span. In the next sections of this lab, you will create additional spans to further observe the behavior of a specific HTTP handler and function. `}</p>\n    <h2>{`Tracing an HTTP handler`}</h2>\n    <p>{`In the previous example, we were able to identify the endpoint `}<inlineCode parentName=\"p\">{`/sayHello`}</inlineCode>{` as one of interest in our service. Let’s see how can we add tracing instrumentation to the function that is handling this endpoint.`}</p>\n    <ol {...{\n      \"start\": 24\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Import at the top of the file `}<inlineCode parentName=\"p\">{`service-a/hello.js`}</inlineCode>{` the `}<inlineCode parentName=\"p\">{`opentracing`}</inlineCode>{` module, and get the global tracer`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const opentracing = require('opentracing')\nconst tracer = opentracing.globalTracer()\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the file `}<inlineCode parentName=\"p\">{`service-a/hello.js`}</inlineCode>{` and locate the function `}<inlineCode parentName=\"p\">{`sayHello`}</inlineCode></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const name = req.params.name\n  const response = await formatGreeting(name);\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a new child span using the parent span located in the `}<inlineCode parentName=\"p\">{`req`}</inlineCode>{` object as context.\nThis will allow the trace to have an additional child span. Use the function `}<inlineCode parentName=\"p\">{`tracer.startSpan`}</inlineCode>{` and name the span `}<inlineCode parentName=\"p\">{`say-hello`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  const response = await formatGreeting(name);\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The OpenTracing API supports the method `}<inlineCode parentName=\"p\">{`log`}</inlineCode>{`. You can log an event with a name and an object. Add a log to the span with a message that contains the value of the name.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  span.log({ event: 'name', message: \\`this is a log message for name \\${name}\\` })\n  const response = await formatGreeting(name);\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The OpenTracing API supports the method `}<inlineCode parentName=\"p\">{`setTag`}</inlineCode>{`. You can tag the span with a key and any value. Add a tag that contains the response, in normal use cases you would not log the entire response and instead key values that are useful for later searching for spans. Remember to call the `}<inlineCode parentName=\"p\">{`span.finish()`}</inlineCode>{` when you are done instrumenting the span.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  span.log({ event: 'name', message: \\`this is a log message for name \\${name}\\` })\n  const response = await formatGreeting(name);\n  span.setTag('response', response)\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 30\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Call the API endpoint.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 31\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"66.66666666666666%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdpVZEsH/8QAGRAAAgMBAAAAAAAAAAAAAAAAAhIAAxEg/9oACAEBAAEFAlHEriBx/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAADIBApEg/9oACAEBAAY/AlgSuCVzj//EABoQAAICAwAAAAAAAAAAAAAAAAARARBR0fH/2gAIAQEAAT8hSkowhmgcQRf/2gAMAwEAAgADAAAAEBPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRAAAgIBBQAAAAAAAAAAAAAAAAERIfAxUXGBwf/aAAgBAQABPxBqWK6QwuhWMrgzrwW4IIWx/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"2-spans\",\n        \"title\": \"2-spans\",\n        \"src\": \"/static/d812efe5497ef5343aee74f44ce013bc/2e753/nodejs-service-a-2-spans.jpg\",\n        \"srcSet\": [\"/static/d812efe5497ef5343aee74f44ce013bc/69549/nodejs-service-a-2-spans.jpg 288w\", \"/static/d812efe5497ef5343aee74f44ce013bc/473e3/nodejs-service-a-2-spans.jpg 576w\", \"/static/d812efe5497ef5343aee74f44ce013bc/2e753/nodejs-service-a-2-spans.jpg 1152w\", \"/static/d812efe5497ef5343aee74f44ce013bc/74f4b/nodejs-service-a-2-spans.jpg 1728w\", \"/static/d812efe5497ef5343aee74f44ce013bc/de5bb/nodejs-service-a-2-spans.jpg 2304w\", \"/static/d812efe5497ef5343aee74f44ce013bc/1b70a/nodejs-service-a-2-spans.jpg 2610w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice in the result items table, for the trace item that the trace indicates that there are a total of two spans `}<inlineCode parentName=\"p\">{`2 Spans`}</inlineCode>{` and that service-a contains two spans `}<inlineCode parentName=\"p\">{`service-a (2)`}</inlineCode></p>\n    <ol {...{\n      \"start\": 33\n    }}>\n      <li parentName=\"ol\">{`Click the trace, expand the spans `}<inlineCode parentName=\"li\">{`say-hello`}</inlineCode>{`, and then expand the `}<inlineCode parentName=\"li\">{`Tags`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`Logs`}</inlineCode>{` sections.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"53.125%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHrKak1B//EABgQAAMBAQAAAAAAAAAAAAAAAAACExIg/9oACAEBAAEFAsKTQmnH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAADIBApEg/9oACAEBAAY/AlgSuCVzj//EABkQAAIDAQAAAAAAAAAAAAAAAAERABDxUf/aAAgBAQABPyElTOuiZaZahX//2gAMAwEAAgADAAAAEOTf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxBaqQ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgIDAQAAAAAAAAAAAAABABFx8BBhkcH/2gAIAQEAAT8QGNUoBQxBS3U6mqfOV48n/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"span-details\",\n        \"title\": \"span-details\",\n        \"src\": \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/2e753/nodejs-service-a-span-details.jpg\",\n        \"srcSet\": [\"/static/18a8d0e20d30f7d90f87c6b7326a8a64/69549/nodejs-service-a-span-details.jpg 288w\", \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/473e3/nodejs-service-a-span-details.jpg 576w\", \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/2e753/nodejs-service-a-span-details.jpg 1152w\", \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/74f4b/nodejs-service-a-span-details.jpg 1728w\", \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/de5bb/nodejs-service-a-span-details.jpg 2304w\", \"/static/18a8d0e20d30f7d90f87c6b7326a8a64/77ed8/nodejs-service-a-span-details.jpg 2612w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Notice:`}</strong>{`  `}</p>\n      <ul>\n        <li parentName=\"ul\">{`in the Tags section the tag is located with key `}<inlineCode parentName=\"li\">{`name`}</inlineCode>{` and the string value `}<inlineCode parentName=\"li\">{`Hello Carlos!`}</inlineCode>{`.`}</li>\n        <li parentName=\"ul\">{`in the Logs section the log event with the name `}<inlineCode parentName=\"li\">{`name`}</inlineCode>{` and the message `}<inlineCode parentName=\"li\">{`this is a log message for name Carlos`}</inlineCode></li>\n      </ul>\n    </InlineNotification>\n    <h2>{`Tracing a function`}</h2>\n    <p>{`The HTTP handler usually calls other functions to perform the business logic, when calling another function within the same service you can create a child span.`}</p>\n    <ol {...{\n      \"start\": 34\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`sayHello`}</inlineCode>{` handler calls the function `}<inlineCode parentName=\"p\">{`formatGreeting`}</inlineCode>{` to process the input `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{`. Pass the current span as an additional parammeter `}<inlineCode parentName=\"p\">{`formatGreeting(name, span)`}</inlineCode></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  span.log({ event: 'name', message: \\`this is a log message for name \\${name}\\` })\n  const response = await formatGreeting(name, span)\n  span.setTag('response', response)\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the function `}<inlineCode parentName=\"p\">{`formatGreeting`}</inlineCode>{` create a new span using `}<inlineCode parentName=\"p\">{`tracer.startSpan`}</inlineCode>{`.\nUse the span from the HTTP handler as `}<inlineCode parentName=\"p\">{`parent`}</inlineCode>{` span, name the span `}<inlineCode parentName=\"p\">{`format-greeting`}</inlineCode>{`. Remember to finish the span before returning with `}<inlineCode parentName=\"p\">{`span.finish()`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function formatGreeting(name, parent) {\n  const span = tracer.startSpan('format-greeting', { childOf: parent })\n  span.log({ event: 'format', message: \\`formatting message locally for name \\${name}\\` })\n  const response = \\`Hello \\${name}!\\`\n  span.finish()\n  return response\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 37\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Call the API endpoint.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 38\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"45.833333333333336%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHaVGSKif/EABkQAAIDAQAAAAAAAAAAAAAAAAISAAMRIP/aAAgBAQABBQJRxK4gcf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAAyApEBESD/2gAIAQEABj8CXGhI0JGuP//EABsQAAEEAwAAAAAAAAAAAAAAABEAARAxYdHx/9oACAEBAAE/IQg+AETQXEQ1R//aAAwDAQACAAMAAAAQMx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAACAQMFAAAAAAAAAAAAAAAAATERIfBBUXGBwf/aAAgBAQABPxBoWKbNF0K4yuDMvDQgHLP/2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"3-spans\",\n        \"title\": \"3-spans\",\n        \"src\": \"/static/db99654b9ef2678fdb8dd59029d211f3/2e753/nodejs-service-a-3-spans.jpg\",\n        \"srcSet\": [\"/static/db99654b9ef2678fdb8dd59029d211f3/69549/nodejs-service-a-3-spans.jpg 288w\", \"/static/db99654b9ef2678fdb8dd59029d211f3/473e3/nodejs-service-a-3-spans.jpg 576w\", \"/static/db99654b9ef2678fdb8dd59029d211f3/2e753/nodejs-service-a-3-spans.jpg 1152w\", \"/static/db99654b9ef2678fdb8dd59029d211f3/74f4b/nodejs-service-a-3-spans.jpg 1728w\", \"/static/db99654b9ef2678fdb8dd59029d211f3/de5bb/nodejs-service-a-3-spans.jpg 2304w\", \"/static/db99654b9ef2678fdb8dd59029d211f3/a5928/nodejs-service-a-3-spans.jpg 2614w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice that the trace now contains three spans.`}</p>\n    <ol {...{\n      \"start\": 40\n    }}>\n      <li parentName=\"ol\">{`Click the trace, expand the spans `}<inlineCode parentName=\"li\">{`say-hello`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`format-greeting`}</inlineCode>{`, and then expand the `}<inlineCode parentName=\"li\">{`Logs`}</inlineCode>{` sections.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"73.95833333333334%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB1y8osaH/xAAXEAADAQAAAAAAAAAAAAAAAAAAAhIg/9oACAEBAAEFAoUhSFx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAADIBApEg/9oACAEBAAY/AlgSuCVzj//EABsQAAICAwEAAAAAAAAAAAAAAAABITEQEUGB/9oACAEBAAE/IYEqeazzDuBHp//aAAwDAQACAAMAAAAQuB//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QFX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAfEAEAAQMEAwAAAAAAAAAAAAABABEhcRAxUdFhgZH/2gAIAQEAAT8QVQwrUUMEF3+PqeO9eoEVSXzE8mj/2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"span-form\",\n        \"title\": \"span-form\",\n        \"src\": \"/static/df48c1b458053500279a627f2ab9560a/2e753/nodejs-service-a-span-formatter.jpg\",\n        \"srcSet\": [\"/static/df48c1b458053500279a627f2ab9560a/69549/nodejs-service-a-span-formatter.jpg 288w\", \"/static/df48c1b458053500279a627f2ab9560a/473e3/nodejs-service-a-span-formatter.jpg 576w\", \"/static/df48c1b458053500279a627f2ab9560a/2e753/nodejs-service-a-span-formatter.jpg 1152w\", \"/static/df48c1b458053500279a627f2ab9560a/74f4b/nodejs-service-a-span-formatter.jpg 1728w\", \"/static/df48c1b458053500279a627f2ab9560a/de5bb/nodejs-service-a-span-formatter.jpg 2304w\", \"/static/df48c1b458053500279a627f2ab9560a/71967/nodejs-service-a-span-formatter.jpg 2604w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice the cascading effect between the three spans, the span `}<inlineCode parentName=\"p\">{`format-greeting`}</inlineCode>{` contains the message `}<inlineCode parentName=\"p\">{`formatting message locally for name Carlos`}</inlineCode>{` that we instrumented.`}</p>\n    <h2>{`Distributing Tracing`}</h2>\n    <p>{`You can have a single trace that goes across multiple services, this allows you to distribute tracing and better observability on the interactions between services.`}</p>\n    <p>{`In the previous example, we instrumented a single service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`, and created a span when calling a local function to format the greeting message.`}</p>\n    <p>{`For the following example, we are going to use a remote service `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` to format the message, and returning the formatted greeting message to the HTTP client.`}</p>\n    <ol {...{\n      \"start\": 41\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the file `}<inlineCode parentName=\"p\">{`service-a/hello.js`}</inlineCode>{` locate the handler function `}<inlineCode parentName=\"p\">{`sayHello`}</inlineCode>{` and replace the function call `}<inlineCode parentName=\"p\">{`formatGreeting(name, span)`}</inlineCode>{` with `}<inlineCode parentName=\"p\">{`formatGreetingRemote(name, span)`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  span.log({ event: 'name', message: \\`this is a log message for name \\${name}\\` })\n  const response = await formatGreetingRemote(name, span)\n  span.setTag('response', response)\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the function `}<inlineCode parentName=\"p\">{`formatGreetingRemote`}</inlineCode>{` use the function `}<inlineCode parentName=\"p\">{`tracer.inject`}</inlineCode>{` to extract the span context and inject them into the `}<inlineCode parentName=\"p\">{`headers`}</inlineCode>{` of the HTTP request when calling the remote service `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` endpoint `}<inlineCode parentName=\"p\">{`/formatGreeting`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const bent = require('bent')\n\nconst formatGreetingRemote = async (name, span) => {\n  const service = process.env.SERVICE_FORMATTER || 'localhost'\n  const servicePort = process.env.SERVICE_FORMATTER_PORT || '8081'\n  const url = \\`http://\\${service}:\\${servicePort}/formatGreeting?name=\\${name}\\`\n  const headers = {}\n  tracer.inject(span, opentracing.FORMAT_HTTP_HEADERS, headers)\n  const request = bent('string', headers)\n  const response = await request(url)\n  return response\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The service `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` is already instrumented to trace every HTTP request using the same procedure <<tracing-every-http-request, Trace every HTTP request>> that we did for service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Locate the file `}<inlineCode parentName=\"p\">{`service-b/formatter.js`}</inlineCode>{` and add.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Import at the top of the file `}<inlineCode parentName=\"p\">{`service-b/formatter.js`}</inlineCode>{` the `}<inlineCode parentName=\"p\">{`opentracing`}</inlineCode>{` module, and get the global tracer`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const opentracing = require('opentracing')\nconst tracer = opentracing.globalTracer()\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Located the HTTP handler function `}<inlineCode parentName=\"p\">{`formatGreeting`}</inlineCode>{` in the file `}<inlineCode parentName=\"p\">{`service-b/formatter.js`}</inlineCode></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function formatGreeting(req, res) {\n  const name = req.query.name\n  const response = \\`Hello from service-b \\${name}!\\`\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a new child span using the parent span located in the `}<inlineCode parentName=\"p\">{`req`}</inlineCode>{` object as context.\nThis will allow the trace to have an additional child span. Use the function `}<inlineCode parentName=\"p\">{`tracer.startSpan`}</inlineCode>{` and name the span `}<inlineCode parentName=\"p\">{`format-greeting`}</inlineCode>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function formatGreeting(req, res) {\n  const span = tracer.startSpan('format-greeting', { childOf: req.span })\n  const name = req.query.name\n  const response = \\`Hello from service-b \\${name}!\\`\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add a log event `}<inlineCode parentName=\"p\">{`format`}</inlineCode>{` to the new span using the method `}<inlineCode parentName=\"p\">{`span.log`}</inlineCode>{`. Remember to call the `}<inlineCode parentName=\"p\">{`span.finish()`}</inlineCode>{` when you are done instrumenting the span.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function formatGreeting(req, res) {\n  const span = tracer.startSpan('format-greeting', { childOf: req.span })\n  const name = req.query.name\n  span.log({ event: 'format', message: \\`formatting message remotely for name \\${name}\\` })\n  const response = \\`Hello from service-b \\${name}!\\`\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 49\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 50\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Call the API endpoint.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n    </ol>\n    <ol {...{\n      \"start\": 51\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"47.91666666666667%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2qukSOE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAMSAiD/2gAIAQEAAQUCnJCyF8f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAAAjKRASAh/9oACAEBAAY/AurggtEFrT//xAAYEAEBAQEBAAAAAAAAAAAAAAABABHxYf/aAAgBAQABPyFzBJ6XO3IQWWF//9oADAMBAAIAAwAAABBAH//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EIf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgEFAQAAAAAAAAAAAAABACFxEVGBkfDB/9oACAEBAAE/ENDEUAoQS/Jie++QEsHMAFAcR2Dqf//Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"b-trace\",\n        \"title\": \"b-trace\",\n        \"src\": \"/static/76baef02943dab198887b2c469acd97b/2e753/nodejs-services-b-trace.jpg\",\n        \"srcSet\": [\"/static/76baef02943dab198887b2c469acd97b/69549/nodejs-services-b-trace.jpg 288w\", \"/static/76baef02943dab198887b2c469acd97b/473e3/nodejs-services-b-trace.jpg 576w\", \"/static/76baef02943dab198887b2c469acd97b/2e753/nodejs-services-b-trace.jpg 1152w\", \"/static/76baef02943dab198887b2c469acd97b/74f4b/nodejs-services-b-trace.jpg 1728w\", \"/static/76baef02943dab198887b2c469acd97b/de5bb/nodejs-services-b-trace.jpg 2304w\", \"/static/76baef02943dab198887b2c469acd97b/ce206/nodejs-services-b-trace.jpg 2602w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice that the trace contains a total of four spans `}<inlineCode parentName=\"p\">{`4 Spans`}</inlineCode>{` two for `}<inlineCode parentName=\"p\">{`service-a(2)`}</inlineCode>{` and two for `}<inlineCode parentName=\"p\">{`service-b(2)`}</inlineCode></p>\n    <ol {...{\n      \"start\": 53\n    }}>\n      <li parentName=\"ol\">{`Click the trace to drill down to get more details.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"29.86111111111111%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAdcRQP8A/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAISE//aAAgBAQABBQKFM1IU/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAIykQH/2gAIAQEABj8CnhC4SuH/xAAZEAEAAgMAAAAAAAAAAAAAAAARAAEQMUH/2gAIAQEAAT8hajTwxopP/9oADAMBAAIAAwAAABAEP//EABYRAQEBAAAAAAAAAAAAAAAAAAABMf/aAAgBAwEBPxC6j//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAEXEh0fH/2gAIAQEAAT8QDUguFYMngeoGoPDP/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"b-spans\",\n        \"title\": \"b-spans\",\n        \"src\": \"/static/be35faab30f6219a1c40a2184aba29c6/2e753/nodejs-services-b-spans.jpg\",\n        \"srcSet\": [\"/static/be35faab30f6219a1c40a2184aba29c6/69549/nodejs-services-b-spans.jpg 288w\", \"/static/be35faab30f6219a1c40a2184aba29c6/473e3/nodejs-services-b-spans.jpg 576w\", \"/static/be35faab30f6219a1c40a2184aba29c6/2e753/nodejs-services-b-spans.jpg 1152w\", \"/static/be35faab30f6219a1c40a2184aba29c6/74f4b/nodejs-services-b-spans.jpg 1728w\", \"/static/be35faab30f6219a1c40a2184aba29c6/de5bb/nodejs-services-b-spans.jpg 2304w\", \"/static/be35faab30f6219a1c40a2184aba29c6/c2442/nodejs-services-b-spans.jpg 2652w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice in the top section, the summary which includes the `}<inlineCode parentName=\"p\">{`Trace Start`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`Duration: 19ms`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`Services: 2`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`Depth: 4`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Total Spans: 4`}</inlineCode>{`.`}</p>\n    <p>{`Notice the bottom section on how the total duration of 19ms is broken down per span, and at which time each span started and ended. You can see that the time spent in `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` was 4ms, meaning that for this single HTTP request `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` spent 15ms and `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` spent 4ms.`}</p>\n    <ol {...{\n      \"start\": 54\n    }}>\n      <li parentName=\"ol\">{`Expand the `}<inlineCode parentName=\"li\">{`Logs`}</inlineCode>{` sections for both spans `}<inlineCode parentName=\"li\">{`say-hello`}</inlineCode>{` from `}<inlineCode parentName=\"li\">{`service-a`}</inlineCode>{` and  `}<inlineCode parentName=\"li\">{`format-greeting`}</inlineCode>{` from `}<inlineCode parentName=\"li\">{`service-b`}</inlineCode>{`.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"93.05555555555556%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB60bwmLYtqkWFf//EABgQAAMBAQAAAAAAAAAAAAAAAAACEgEQ/9oACAEBAAEFAoUhSFN7vf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAEEAwAAAAAAAAAAAAAAADIAAQKRECAx/9oACAEBAAY/AhZBGkEaz3T/xAAcEAACAQUBAAAAAAAAAAAAAAAAAREQITFB8VH/2gAIAQEAAT8hcCWHUHNHLCeF6iIP/9oADAMBAAIAAwAAABDXB8D/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EIyb/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAgEBPxClFn//xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhQVFx8DHB/9oACAEBAAE/ELdYWEaOipdu9cT3H5AC/q9ygaJbuMw7hFySnE//2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"b-logs\",\n        \"title\": \"b-logs\",\n        \"src\": \"/static/e60564788fdc1e5457d13bd92e387c18/2e753/nodejs-services-b-logs.jpg\",\n        \"srcSet\": [\"/static/e60564788fdc1e5457d13bd92e387c18/69549/nodejs-services-b-logs.jpg 288w\", \"/static/e60564788fdc1e5457d13bd92e387c18/473e3/nodejs-services-b-logs.jpg 576w\", \"/static/e60564788fdc1e5457d13bd92e387c18/2e753/nodejs-services-b-logs.jpg 1152w\", \"/static/e60564788fdc1e5457d13bd92e387c18/74f4b/nodejs-services-b-logs.jpg 1728w\", \"/static/e60564788fdc1e5457d13bd92e387c18/de5bb/nodejs-services-b-logs.jpg 2304w\", \"/static/e60564788fdc1e5457d13bd92e387c18/71967/nodejs-services-b-logs.jpg 2604w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice on the right side, each span has a summary each with the associated `}<inlineCode parentName=\"p\">{`Service`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`Duration`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`Start Time`}</inlineCode>{`. The `}<inlineCode parentName=\"p\">{`Start Time`}</inlineCode>{` of a span marks the end time from the previous span.`}</p>\n    <p>{`Notice the time for the first log message `}<inlineCode parentName=\"p\">{`this is a log message for name Carlos`}</inlineCode>{` in `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` is of 1ms, this means this log event happened 1ms after the trace started.`}</p>\n    <p>{`Notice the time for the second log message `}<inlineCode parentName=\"p\">{`formatting message remotely for name Carlos`}</inlineCode>{` in `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{` is of 12ms, this means this log event happened 12ms after the trace started in `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`.`}</p>\n    <p>{`It is very useful to see the log events we instrumented in our endpoint handlers across services in this manner because it provides full observability of the lifecycle of the HTTP request across multiple services.`}</p>\n    <h2>{`Baggage propagation`}</h2>\n    <p>{`Imagine a scenario where you want to redirect all Safari users to a specific version of a service using the User-Agent HTTP header. This is useful in canary deployments when a new version is rolled out for a specific subset of users. However, the header is present only at the first service. If the routing rule is for a service lower in a call graph then the header has to be propagated through all intermediate services. This is a great use-case for distributed context propagation which is a feature of many tracing systems.`}</p>\n    <p>{`Baggage items are key:value string pairs that apply to the given Span, its SpanContext, and all Spans which directly or transitively reference the local Span. That is, baggage items propagate in-band along with the trace itself.`}</p>\n    <p>{`Baggage items enable powerful functionality given a full-stack OpenTracing integration (for example, arbitrary application data from a mobile app can make it, transparently, all the way into the depths of a storage system), and with it some powerful costs: use this feature with care.`}</p>\n    <p>{`Use this feature thoughtfully and with care. Every key and value is copied into every local and remote child of the associated Span, and that can add up to a lot of network and CPU overhead.`}</p>\n    <ol {...{\n      \"start\": 55\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Locate the HTTP handler `}<inlineCode parentName=\"p\">{`sayHello`}</inlineCode>{` in the file `}<inlineCode parentName=\"p\">{`service-a/hello.js`}</inlineCode>{`. Use the method `}<inlineCode parentName=\"p\">{`span.setBaggageItem('my-baggage', name)`}</inlineCode>{` before the function call `}<inlineCode parentName=\"p\">{`formatGreetingRemote(name, span)`}</inlineCode>{` to set the baggage with key `}<inlineCode parentName=\"p\">{`my-baggage`}</inlineCode>{` to the value of the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` parameter.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`const sayHello = async (req, res) => {\n  const span = tracer.startSpan('say-hello', { childOf: req.span })\n  const name = req.params.name\n  span.log({ event: 'name', message: \\`this is a log message for name \\${name}\\` })\n  span.setBaggageItem('my-baggage', name)\n  const response = await formatGreetingRemote(name, span)\n  span.setTag('response', response)\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Locate the HTTP handler `}<inlineCode parentName=\"p\">{`formatGreeting`}</inlineCode>{` in the file `}<inlineCode parentName=\"p\">{`service-b/formatter.js`}</inlineCode>{`. Use the method `}<inlineCode parentName=\"p\">{`span.getBaggageItem('my-baggage')`}</inlineCode>{` to get the value of the name parameter at `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{`. For convenience log the value using `}<inlineCode parentName=\"p\">{`span.log`}</inlineCode>{` to see the value in the Jaeger UI.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function formatGreeting(req, res) {\n  const span = tracer.startSpan('format-greeting', { childOf: req.span })\n  const name = req.query.name\n  span.log({ event: 'format', message: \\`formatting message remotely for name \\${name}\\` })\n  const response = \\`Hello from service-b \\${name}!\\`\n  const baggage = span.getBaggageItem('my-baggage')\n  span.log({ event: 'baggage', message: \\`this is baggage \\${baggage}\\` })\n  span.finish()\n  res.send(response)\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build and run the service. If docker-compose is already running in the terminal enter `}<inlineCode parentName=\"p\">{`Ctrl+C`}</inlineCode>{` to exit and stop the containers.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`docker-compose build\ndocker-compose up\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Call the same API endpoint, but now is instrumented with tracing`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl http://localhost:8080/sayHello/Carlos\nHello Carlos!\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Jaeger UI using the web browser`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`open http://localhost:16686/jaeger\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the Service `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` from the drop-down options and click `}<inlineCode parentName=\"p\">{`Find Traces`}</inlineCode>{`. Expand the section `}<inlineCode parentName=\"p\">{`Logs`}</inlineCode>{` for the spans `}<inlineCode parentName=\"p\">{`say-hello`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`format-greeting`}</inlineCode></p>\n      </li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"79.16666666666667%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHr5YklR//EABcQAAMBAAAAAAAAAAAAAAAAAAACEiD/2gAIAQEAAQUClSFIXH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAMgECkSD/2gAIAQEABj8CWBK4JXOP/8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAECExYf/aAAgBAQABPyHEtPLhghR1/9oADAMBAAIAAwAAABDH3//EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAwEBPxCaj//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EKf/xAAdEAEAAgEFAQAAAAAAAAAAAAABABHRITFBcYGR/9oACAEBAAE/EGomNgmjoluHiFGz5xKlmrfMEmhXst5r7P/Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"b-baggage\",\n        \"title\": \"b-baggage\",\n        \"src\": \"/static/ad698bd9f572a1eab1958de70a5209a4/2e753/nodejs-service-b-baggage.jpg\",\n        \"srcSet\": [\"/static/ad698bd9f572a1eab1958de70a5209a4/69549/nodejs-service-b-baggage.jpg 288w\", \"/static/ad698bd9f572a1eab1958de70a5209a4/473e3/nodejs-service-b-baggage.jpg 576w\", \"/static/ad698bd9f572a1eab1958de70a5209a4/2e753/nodejs-service-b-baggage.jpg 1152w\", \"/static/ad698bd9f572a1eab1958de70a5209a4/74f4b/nodejs-service-b-baggage.jpg 1728w\", \"/static/ad698bd9f572a1eab1958de70a5209a4/de5bb/nodejs-service-b-baggage.jpg 2304w\", \"/static/ad698bd9f572a1eab1958de70a5209a4/c06fd/nodejs-service-b-baggage.jpg 2756w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice that the baggage is set in the `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` with the value `}<inlineCode parentName=\"p\">{`Carlos`}</inlineCode>{` this baggage is propagated to all spans local or remote. In the `}<inlineCode parentName=\"p\">{`server-b`}</inlineCode>{` span you can see the baggage value `}<inlineCode parentName=\"p\">{`Carlos`}</inlineCode>{` is propagated.`}</p>\n    <h2>{`Searching Traces`}</h2>\n    <p>{`If you have a specific trace id you can search for it by putting the trace id on the top left search box.`}</p>\n    <p>{`You can also use a tag to search for example searching traces that have a specific HTTP status code, or one of the custom tags we added to a span.`}</p>\n    <ol {...{\n      \"start\": 61\n    }}>\n      <li parentName=\"ol\">{`To search for traces using HTTP method `}<inlineCode parentName=\"li\">{`GET`}</inlineCode>{` and status code `}<inlineCode parentName=\"li\">{`200`}</inlineCode>{`, enter `}<inlineCode parentName=\"li\">{`http.status_code=200  http.method=GET`}</inlineCode>{` on the `}<inlineCode parentName=\"li\">{`Tags`}</inlineCode>{` field in the search form, and then click `}<inlineCode parentName=\"li\">{`Find Traces`}</inlineCode>{`.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"42.36111111111111%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+0lEQVQY042Q2W7DIBBF+f8f7EvUNLaoN2xggDEYcHttq5GSp14dIZZZ7iDCthnmWallWWrO+77nWn/+J4EkbcyWUoxxXde0baUUlKgVvGg/9TzmXAQ5R+RiSiuSY8QzSj7j8unlEorms+4VgD7Cz2o1OpG9MHohIuTk7VBKh6ULGAPYBMh7BAjb3LVsXS9tJ0Mv276/SfkYx3vXfXYd1sl7FcIB80EIuBm9X5gFWlm9RA7sXWJuJ/Xx9bg1TTsM30qB0do3ppNBa2GJjLWYluEqRnLeOzfZ45K9hb0Eq69AM9FsSTAzRsB6jXl8da0FX1X+dB7fSDmnUn4BGt3NctKdw4IAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"ui-search\",\n        \"title\": \"ui-search\",\n        \"src\": \"/static/78f5e3e0058a4015ba41452c11d206c9/3cbba/jaeger-ui-search.png\",\n        \"srcSet\": [\"/static/78f5e3e0058a4015ba41452c11d206c9/7fc1e/jaeger-ui-search.png 288w\", \"/static/78f5e3e0058a4015ba41452c11d206c9/a5df1/jaeger-ui-search.png 576w\", \"/static/78f5e3e0058a4015ba41452c11d206c9/3cbba/jaeger-ui-search.png 1152w\", \"/static/78f5e3e0058a4015ba41452c11d206c9/0b124/jaeger-ui-search.png 1728w\", \"/static/78f5e3e0058a4015ba41452c11d206c9/4ea69/jaeger-ui-search.png 2304w\", \"/static/78f5e3e0058a4015ba41452c11d206c9/6c165/jaeger-ui-search.png 2800w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Dependency graph`}</h2>\n    <p>{`The Jaeger UI has a view for service dependencies, it shows a visual Directed acyclic graph (DAG).`}</p>\n    <ol {...{\n      \"start\": 62\n    }}>\n      <li parentName=\"ol\">{`Click the tab `}<inlineCode parentName=\"li\">{`Dependencies`}</inlineCode>{`, then click the `}<inlineCode parentName=\"li\">{`DAG`}</inlineCode>{` tab.`}</li>\n    </ol>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"63.19444444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAexViExGBf/EABsQAAEFAQEAAAAAAAAAAAAAAAEAAgMREhMx/9oACAEBAAEFAjGzAiZnhEneC6X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAfEAABAgYDAAAAAAAAAAAAAAAAAQIDEBESITEzcZH/2gAIAQEABj8CpYnRmG042+Cm5f/EABsQAQABBQEAAAAAAAAAAAAAAAERABAhMUFR/9oACAEBAAE/ISMKBjingEOyLOCkMMbogTLHlv/aAAwDAQACAAMAAAAQ28//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPxCn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQEAAQUAAAAAAAAAAAAAAREAECExkbHR/9oACAEBAAE/EHVsVAT394MuCIQfGt8OozkEWYTtBXovH//Z')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"ui-dep1\",\n        \"title\": \"ui-dep1\",\n        \"src\": \"/static/f58817248a2f4c9e503107c8fc531ea3/2e753/jaeger-ui-dependencies-dag-1.jpg\",\n        \"srcSet\": [\"/static/f58817248a2f4c9e503107c8fc531ea3/69549/jaeger-ui-dependencies-dag-1.jpg 288w\", \"/static/f58817248a2f4c9e503107c8fc531ea3/473e3/jaeger-ui-dependencies-dag-1.jpg 576w\", \"/static/f58817248a2f4c9e503107c8fc531ea3/2e753/jaeger-ui-dependencies-dag-1.jpg 1152w\", \"/static/f58817248a2f4c9e503107c8fc531ea3/74f4b/jaeger-ui-dependencies-dag-1.jpg 1728w\", \"/static/f58817248a2f4c9e503107c8fc531ea3/ecd74/jaeger-ui-dependencies-dag-1.jpg 1792w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Notice that the graph shows the direction with an arrow flowing from `}<inlineCode parentName=\"p\">{`service-a`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`service-b`}</inlineCode>{`. It also shows the number of traces between the services.`}</p>\n    <p>{`This is is a simple example and there is not much value for a small set of services, but when a large number of services each with multiple endpoints then the graph becomes more interesting like the following example:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"54.861111111111114%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3FtlKDRf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAIBERITMTL/2gAIAQEAAQUCtUVEpjQbmNH/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAMgECkRD/2gAIAQEABj8CWBa4JXCe/wD/xAAbEAEAAgIDAAAAAAAAAAAAAAABADEQkSFR8f/aAAgBAQABPyFM08RRXUngJe6JVj//2gAMAwEAAgADAAAAEEQP/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQMBAT8Qp//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB8QAQABAgcBAAAAAAAAAAAAAAEAESEQMUFhocHh8P/aAAgBAQABPxACNAsE0voR/JS/mT7LqOgs1TZCcLD/2Q==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"ui-depp\",\n        \"title\": \"ui-depp\",\n        \"src\": \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/2e753/jaeger-ui-dependencies-dag-2.jpg\",\n        \"srcSet\": [\"/static/6f7e2cdbbe6e8622625b7c4962a1d908/69549/jaeger-ui-dependencies-dag-2.jpg 288w\", \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/473e3/jaeger-ui-dependencies-dag-2.jpg 576w\", \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/2e753/jaeger-ui-dependencies-dag-2.jpg 1152w\", \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/74f4b/jaeger-ui-dependencies-dag-2.jpg 1728w\", \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/de5bb/jaeger-ui-dependencies-dag-2.jpg 2304w\", \"/static/6f7e2cdbbe6e8622625b7c4962a1d908/82815/jaeger-ui-dependencies-dag-2.jpg 2826w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}