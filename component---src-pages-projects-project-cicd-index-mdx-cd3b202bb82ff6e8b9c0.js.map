{"version":3,"sources":["webpack:///./src/pages/projects/project-cicd/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"2PAMaA,G,UAAe,IACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACJ,EAAD,eAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,mCACA,kNAEA,sBACE,kBAAIC,WAAW,MAAf,sGACA,kBAAIA,WAAW,MAAf,0GACA,kBAAIA,WAAW,MAAf,6GAEF,wCACA,mBAAU,CACR,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPhB,WAUI,gCAAMA,WAAW,QAAW,CAC5B,UAAa,qCACb,MAAS,CACP,cAAiB,qBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,gBAAmB,whBACnB,eAAkB,QAClB,QAAW,YAnBjB,OAsBA,+BAAKA,WAAW,QAAW,CACvB,UAAa,0BACb,IAAO,mBACP,MAAS,mBACT,IAAO,mEACP,OAAU,CAAC,wEAAyE,wEAAyE,yEAC7J,MAAS,kCACT,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,IAAO,IACP,KAAQ,KAEV,QAAW,UAtCf,UAyCA,6CACA,sBACE,kBAAIA,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,0EADQ,yCAGpB,kBAAIA,WAAW,MAAf,kDAAuE,6BAAGA,WAAW,MAAS,CAC1F,KAAQ,mFAD2D,aAGvE,kBAAIA,WAAW,MAAf,WAAgC,0BAAYA,WAAW,MAAvB,cAAhC,8DAEF,8CACA,sBACE,kBAAIA,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,2EADQ,6CAGpB,kBAAIA,WAAW,MAAf,kDAAuE,6BAAGA,WAAW,MAAS,CAC1F,KAAQ,oFAD2D,aAGvE,kBAAIA,WAAW,MAAf,iBAAsC,0BAAYA,WAAW,MAAvB,aAAtC,6CAEF,iDACA,sBACE,kBAAIA,WAAW,MAAf,qDACA,kBAAIA,WAAW,MAAf,0BAA+C,0BAAYA,WAAW,MAAvB,aAC/C,kBAAIA,WAAW,MAAf,mEAAwF,kBAAIA,WAAW,MACnG,kBAAIA,WAAW,MAAf,6DACA,kBAAIA,WAAW,MAAf,+CACA,kBAAIA,WAAW,MAAf,qCAA0D,0BAAYA,WAAW,MAAvB,cAA1D,gBACA,kBAAIA,WAAW,MAAf,+FACA,kBAAIA,WAAW,MAAf,mFACA,kBAAIA,WAAW,MAAf,gCACA,kBAAIA,WAAW,MAAf,+GACA,kBAAIA,WAAW,MAAf,0BACA,kBAAIA,WAAW,MAAf,wHAGN,+BACA,sBACE,kBAAIA,WAAW,MAAf,kEAAuF,0BAAYA,WAAW,MAAvB,QAAvF,wDACA,kBAAIA,WAAW,MAAf,qFACA,kBAAIA,WAAW,MAAf,wFAA6G,mBAAKA,WAAW,MAAK,gCAAMA,WAAW,OAAU,IAA3B,2FAElI,kBAAIA,WAAW,MAAf,8FACA,kBAAIA,WAAW,MAAf,6HAAkJ,0BAAYA,WAAW,MAAvB,0BAEpJ,sCACA,sBACE,kBAAIA,WAAW,MAAf,oGAAyH,kBAAIA,WAAW,MACpI,kBAAIA,WAAW,MAAf,4CAAiE,6BAAGA,WAAW,MAAS,CACpF,KAAQ,yCADqD,mBAAjE,6BAKN,kCACA,wDAAuC,6BAAGA,WAAW,KAAQ,CACzD,KAAQ,eAD2B,cAO3CJ,EAAWK,gBAAiB","file":"component---src-pages-projects-project-cicd-index-mdx-cd3b202bb82ff6e8b9c0.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Challenge`}</h2>\n    <p>{`You are provided with the challenge to implement a demo that shows best practices for DevOps.\nImplement Continous Integration and Continous Deployment for an Application on Kubernetes.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Git repository with application code and Dockerfile, Developers have access to this git repository`}</li>\n      <li parentName=\"ul\">{`Git repository with pipeline manifest files (ie yamls) files, Operators have access to this repository`}</li>\n      <li parentName=\"ul\">{`Git repository with application manifest (ie yaml) files, automation only have access to this repository`}</li>\n    </ul>\n    <h2>{`Specifications`}</h2>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"818px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"31.59722222222222%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQY011RS07DMBDNZTkCN+AOHIItYgEbFlUlyKJsWBQqmqRq/g12fo5/eYzdn8RIT54ZzxvPPAdwNltIKWGNwUwhLw8oNjEsRS6nlPKnL51nnG0mnr2EFkYbBExb9ARNJCEmKK1QpRWi9Q7aaP+QIggqbtSR7eqstVRLYCt8RjneFjuIMERwlxg85ERqGapDjbIoIKYJbdeCc440y2HHHq95h9sfjW4UiMMl6v0O/TSjWd0gi55BVKh0j2C5TbEpGxglwdsOv4z7qdwU4ziiHwbISSBjLRZR5ieMv9foOKMNDJJkC9bUfuWeBgn0OECR4+wplLh/bMkz0LSiMSfQeq6pcE209o3Od1IqOq2XwCHw4p5k/fjieHnPjxKT2u4Dzrh+xP/89c7ZHxOmzVvIViJ9AAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"overview-diagram\",\n        \"title\": \"overview-diagram\",\n        \"src\": \"/static/e0f59cda603cd30cfc3a5138da9d879c/96d67/tekton-argocd.png\",\n        \"srcSet\": [\"/static/e0f59cda603cd30cfc3a5138da9d879c/7fc1e/tekton-argocd.png 288w\", \"/static/e0f59cda603cd30cfc3a5138da9d879c/a5df1/tekton-argocd.png 576w\", \"/static/e0f59cda603cd30cfc3a5138da9d879c/96d67/tekton-argocd.png 818w\"],\n        \"sizes\": \"(max-width: 818px) 100vw, 818px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h3>{`Code Git Repository`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/tutorial-tekton-argocd-code\"\n        }}>{`Git repository with application code`}</a></li>\n      <li parentName=\"ul\">{`Create a new git repository using this repo as `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/tutorial-tekton-argocd-code/generate\"\n        }}>{`template`}</a></li>\n      <li parentName=\"ul\">{`Use the `}<inlineCode parentName=\"li\">{`Dockerfile`}</inlineCode>{` on the root of the repository to build a container image`}</li>\n    </ul>\n    <h3>{`Infra Git Repository`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/tutorial-tekton-argocd-infra\"\n        }}>{`Git repository with application manifest`}</a></li>\n      <li parentName=\"ul\">{`Create a new git repository using this repo as `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/tutorial-tekton-argocd-infra/generate\"\n        }}>{`template`}</a></li>\n      <li parentName=\"ul\">{`The directory `}<inlineCode parentName=\"li\">{`ocp/yamls`}</inlineCode>{` contains the application manifest files`}</li>\n    </ul>\n    <h3>{`Pipeline Git Repository`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Create new repository to store pipeline resources`}</li>\n      <li parentName=\"ul\">{`Use the ServiceAccount `}<inlineCode parentName=\"li\">{`pipeline`}</inlineCode></li>\n      <li parentName=\"ul\">{`Use the following guide to create a Pipeline, Tasks, and secret:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Create a pipeline, tasks, secrets on the target namespace`}</li>\n          <li parentName=\"ul\">{`Git clone the source code from the App repo`}</li>\n          <li parentName=\"ul\">{`Build a container image using the `}<inlineCode parentName=\"li\">{`Dockerfile`}</inlineCode>{` on the repo`}</li>\n          <li parentName=\"ul\">{`Tag the image using the 7 first characters of the git hash corresponding to last git commit`}</li>\n          <li parentName=\"ul\">{`Push the container image into the internal image registry on the same namespace`}</li>\n          <li parentName=\"ul\">{`Git clone the Infra git repo`}</li>\n          <li parentName=\"ul\">{`Update the image on the deployment yaml with the new image id that has the tag with value of the git commit`}</li>\n          <li parentName=\"ul\">{`Git commit the changes`}</li>\n          <li parentName=\"ul\">{`Git push the changes to the infra git repo, this should trigger argocd to pickup any changes from the infra repo.`}</li>\n        </ul></li>\n    </ul>\n    <h2>{`Hints`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`The secret contains the git username and token with permission `}<inlineCode parentName=\"li\">{`repo`}</inlineCode>{` that gives write access to the git infra repository`}</li>\n      <li parentName=\"ul\">{`OpenShift 4 comes with an internal image registry you can push from a Tekton task`}</li>\n      <li parentName=\"ul\">{`The image registry url contains the service name, port, namespace, image name and tag`}<pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`image-registry.openshift-image-registry.svc:5000/my-namespace-app/image-name:my-tag\n`}</code></pre></li>\n      <li parentName=\"ul\">{`The image registry only handles ssl/https connections, but it uses a self sign certificate`}</li>\n      <li parentName=\"ul\">{`You need to ignore TLS-Verify to be able to succesfully push and ignore ssl errors for example using buildah set the flag `}<inlineCode parentName=\"li\">{`--tls-verify=\"false\"`}</inlineCode></li>\n    </ul>\n    <h2>{`Extra Credit`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Make the pipeline to run automatically every time new code gets pushed to the Code git repository`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Configure a Github Webhook using the new `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/tektoncd/triggers\"\n            }}>{`Tekton Triggers`}</a>{` listener and bindings`}</li>\n        </ul></li>\n    </ul>\n    <h2>{`Solution`}</h2>\n    <p>{`Here is one implementation as a `}<a parentName=\"p\" {...{\n        \"href\": \"./solution\"\n      }}>{`solution`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}