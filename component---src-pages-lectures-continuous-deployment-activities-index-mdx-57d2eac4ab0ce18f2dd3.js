(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{yQgh:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return r})),t.d(a,"default",(function(){return g}));var c=t("wx14"),p=t("zLVn"),n=(t("q1tI"),t("7ljp")),l=t("013z"),r=(t("qKvR"),{}),i=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",a)}},b=i("Tabs"),o=i("Tab"),s={_frontmatter:r},d=l.a;function g(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(n.b)(d,Object(c.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)(b,{mdxType:"Tabs"},Object(n.b)(o,{label:"OpenShift",mdxType:"Tab"},Object(n.b)("h2",null,"Pre-requisites"),Object(n.b)("p",null,"Make sure your environment is setup properly for the lab."),Object(n.b)("p",null,"Check the ",Object(n.b)("a",Object(c.a)({parentName:"p"},{href:"../prerequisites/#environment-setup"}),"Environment Setup")," page for your setup."),Object(n.b)("h2",null,"ArgoCD Installation"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Create the namespace ",Object(n.b)("inlineCode",{parentName:"li"},"argocd")," to install argocd",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"oc new-project argocd\n"))),Object(n.b)("li",{parentName:"ul"},"Install ArgoCD as follows.",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"oc apply --filename https://raw.githubusercontent.com/ibm-cloud-architecture/learning-cloudnative-101/master/static/yamls/argo-lab/argocd-operator.yaml\n"))),Object(n.b)("li",{parentName:"ul"},"When installing the tutorial, make sure you wait until the argocd-operator is finished before installing the argocd-cr..or it will fail. You can do this:",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"oc get ClusterServiceVersion -n argocd\nNAME                                   DISPLAY                        VERSION   REPLACES   PHASE\nargocd-operator.v0.0.8                 Argo CD                        0.0.8                Succeeded\n")),"  and wait for the “succeeded” to come up before proceeding.",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"oc apply --filename https://raw.githubusercontent.com/ibm-cloud-architecture/learning-cloudnative-101/master/static/yamls/argo-lab/argocd-cr.yaml\n")),"  and wait for the argocd server Pod to be running",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"oc get pods -n argocd -l app.kubernetes.io/name=example-argocd-server\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                                     READY   STATUS    RESTARTS   AGE\nexample-argocd-server-57c4fd5c45-zf4q6   1/1     Running   0          115s\n"))),Object(n.b)("li",{parentName:"ul"},"Install the ",Object(n.b)("inlineCode",{parentName:"li"},"argocd")," CLI, for example on OSX use brew",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"brew tap argoproj/tap\nbrew install argoproj/tap/argocd\n"))),Object(n.b)("li",{parentName:"ul"},"Set an environment variable ",Object(n.b)("inlineCode",{parentName:"li"},"ARGOCD_URL")," using the ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'export ARGOCD_NAMESPACE="argocd"\nexport ARGOCD_SERVER=$(oc get route example-argocd-server -n $ARGOCD_NAMESPACE -o jsonpath=\'{.spec.host}\')\nexport ARGOCD_URL="https://$ARGOCD_SERVER"\necho ARGOCD_URL=$ARGOCD_URL\necho ARGOCD_SERVER=$ARGOCD_SERVER\n')))),Object(n.b)("h2",null,"Deploying the app"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Login into the UI.",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"open $ARGOCD_URL\n"))),Object(n.b)("li",{parentName:"ul"},"Use ",Object(n.b)("inlineCode",{parentName:"li"},"admin")," as the username and get the password with the following command",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"oc get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d\n")),"  For example the output is similar to this:",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"tyafMb7BNvO0kP9eizx3CojrK8pYJFQq\n")))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACeUlEQVQoz1XRW1MScRgGcL5NkyUqoJyXFXZZ2EXOKuApzY3QQNFAPKTmKcYpy5rptvuu+hAdPFY3Tpk1ddMXaJrJTHh69w8y487sxV7sb57neXVXmhRcbQ6iSR/GtdYomg3d0Bt6oDcm0NqegsE8AINlECb7MMzcKKyuNGydGbi8ORhsKt7sHEF7/v48QbVyDh2DWghqi6PF2IsWUwJWbgSd3gzc0hhEOQupKw9RmYSNvw2HexxOIYtO/xRMzkwDPPv9C9VqFbrrBOmNPZQmibaOPkozgA7HMGyuUZgpjZkATqBXzDKI806A901BCBRh4XN4ewGeV2qglqitI8Ugk3UI7Vo1xwhMXBqhSB6p+CSsYp7QLFxSnpJNw60UIYXmYBOm8G7vU63y2b8aaDD3w3gBOW/C4rpF6VRY5Fm8Kpdx/GQBUnIdPGEepUDJShCDc/BHF+GUZrCz/5mBfwjUHl27/QZVJIhTYeXTsLvHwHnGYRILeFkq4GhjAkJkkaXSIG9oAT76DnSvgJfnsXvwhUGVSr2yWYPql3N4tK1y4Gknu1zCC3UIr+9E6ed7hM0zyB9dhhJfQSixAU9wGbuHJww8pw1ZQgbVL+fyTrLBed80lNg8MuoccuoMEoOrkCJLDAr0rKEr8QCR/k14I2vYO/x6GWxcjg1+l3YqQugq0TsLgVKJ4SVKtlyDejcQSpYR7ttEfGgLvngZ+++/NUBWuXE5udgYXAovULUlyLH7VHeVQUENSm1SsoeIDT5G78hTKIlHOPjwvb5htZbQLRfgCcxcGtwf03ZapVTrCFK9Cyg6sEXJttE9/AxJ9TmCfds4/PijduXTU5bwP4/dCCEkOwCaAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"ArgoCD Login",title:"ArgoCD Login",src:"/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png",srcSet:["/static/30fe4e9c7b5cce19f88155110ad1896d/7fc1e/argocd_login.png 288w","/static/30fe4e9c7b5cce19f88155110ad1896d/a5df1/argocd_login.png 576w","/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png 1152w","/static/30fe4e9c7b5cce19f88155110ad1896d/96c52/argocd_login.png 1571w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Now go back to the ArgoCD home and click on ",Object(n.b)("inlineCode",{parentName:"li"},"NEW APP"),"."),Object(n.b)("li",{parentName:"ul"},"Add the below details:"),Object(n.b)("li",{parentName:"ul"},"Application Name: ",Object(n.b)("inlineCode",{parentName:"li"},"sample")),Object(n.b)("li",{parentName:"ul"},"Project - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"SYNC POLICY: ",Object(n.b)("inlineCode",{parentName:"li"},"Manual")),Object(n.b)("li",{parentName:"ul"},"REPO URL: ",Object(n.b)("inlineCode",{parentName:"li"},"https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy")),Object(n.b)("li",{parentName:"ul"},"Revision: ",Object(n.b)("inlineCode",{parentName:"li"},"HEAD")),Object(n.b)("li",{parentName:"ul"},"Path: ",Object(n.b)("inlineCode",{parentName:"li"},"openshift"))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.166666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVQoz42S20rDQBCG9wUVBdNQLaJXoleib+GNIoq2KaElnl9FFERUEBGvBG3TVN00h93kdzYkNjEeMvAzS7L7zb87wxq6hj3DRKtt4vj0DOdXN7i8f8QrH8F553A+qullMMRzzwabnJrG5m4TG1s72N438EY/4zhGFEWkuIIixADuHp5wcX0LNkFA0zpCu2uhc3iCnj3AyPMQETSuKoKq8Ogc02o6jI6FptlNwAoowjB1WE0yD5zRauTu4AtoO0NIKau7SzUG1spAQcBMsoLUPuXU830wvV4vAPvKIT12EAqEQhYUCJF8/01+EILNzjVKDn2qJOjwd0XkJInkiqlyV1Yu2fzCYgGomsI5h+u6SeaUs7UqNB6pclNUZkvLKyWHWcWf4q/GSEnA1bX1wtj0c2OTPXq2/nd8aM8nmtwnmGJ0cY0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details one",title:"app details one",src:"/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png",srcSet:["/static/59ae416e31ac0c0d6526258e1634f6e5/7fc1e/app_argo_1.png 288w","/static/59ae416e31ac0c0d6526258e1634f6e5/a5df1/app_argo_1.png 576w","/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png 1152w","/static/59ae416e31ac0c0d6526258e1634f6e5/0b124/app_argo_1.png 1728w","/static/59ae416e31ac0c0d6526258e1634f6e5/4ea69/app_argo_1.png 2304w","/static/59ae416e31ac0c0d6526258e1634f6e5/0d3df/app_argo_1.png 3141w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Cluster - Select the default one ",Object(n.b)("inlineCode",{parentName:"li"},"https://kubernetes.default.svc")," to deploy in-cluster"),Object(n.b)("li",{parentName:"ul"},"Namespace - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"Click Create to finish")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz5WRwU6DQBCGeUCjpkIjaWJ6NH0UL8akTVppsK0l1EfxogdPHnyBRkqBBRZ24e/sNiHhYIRJ/sxhZ76Znd+wrQGmcwfzZweev8P75xc+vn+wTxgOxxiHqLt+wwjG5dU1HmcLPDxNMXNcsCyDFBJSSvQNQT3GBQHdjYfl6hUb/w1BeARjTEsIgbquUVfV/6K6kuoN0xrCIdjCXWPl7RDQ6ik9iBooqLCXFHBgmliutw1wH4RIMo44zRFn3ZWoTD3GjWW1gAEdNs25nlaUArw85y7KeAFjeGs3wJetjyTNkOc5OOf60FVV9zPFHo3aQJaiVJvRNBWMBihzVGiD/pAKbcrdeEymtIFCf7fURVGi3JbdgfeTSePy+cupfpSy0jkk19XG3YASJ7n+3VIREJLQAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details two",title:"app details two",src:"/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png",srcSet:["/static/39813c22bfaccabf506ce07d24062289/7fc1e/app_argo_2.png 288w","/static/39813c22bfaccabf506ce07d24062289/a5df1/app_argo_2.png 576w","/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png 1152w","/static/39813c22bfaccabf506ce07d24062289/0b124/app_argo_2.png 1728w","/static/39813c22bfaccabf506ce07d24062289/4ea69/app_argo_2.png 2304w","/static/39813c22bfaccabf506ce07d24062289/b5501/app_argo_2.png 3149w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"You will now see the available apps.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQoz42Q2U7CQBSG+8iaEC9QgcirKTcGY8Q0EVDUlqXrdKPtdEo+pzUYjYpefJmTmcm/HGPY62LOF8wXr1irNUqplqqqPuZD1Jqt/iuyHDdOMY47Ha7vp4xuTcbmDC9KCOKMMNkSJFk7uyLB+YXmbRnEPHuCFz/COOqcINKcbVkRpSmut6SsFLKSqLqmrndYTsDU2jC3HWY/0NxPGywH47w/wBcxeVHomiVh2NTeURT5eyUtanshj0uXp5X3J0b3rNcKFqVEygLHtRF6FyJOSNKsFV35Qqf4LtiY7I32s3Ha67PxQ4TenVIV5uyBy/GE0c2Eq/Ed9sbTglFb618JBxdD3CAiinVKKVms/S/s3T+fh3gDsMQDpdnzrqIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sampleapp create",title:"sampleapp create",src:"/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png",srcSet:["/static/eddb5c8846254c4846d2507394ff8490/7fc1e/sampleapp_create.png 288w","/static/eddb5c8846254c4846d2507394ff8490/a5df1/sampleapp_create.png 576w","/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png 1152w","/static/eddb5c8846254c4846d2507394ff8490/0b124/sampleapp_create.png 1728w","/static/eddb5c8846254c4846d2507394ff8490/4ea69/sampleapp_create.png 2304w","/static/eddb5c8846254c4846d2507394ff8490/74fc2/sampleapp_create.png 3138w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Initially, the app will be out of sync. It is yet to be deployed. You need to sync it for deploying.")),Object(n.b)("p",null,"To sync the application, click ",Object(n.b)("inlineCode",{parentName:"p"},"SYNC")," and then ",Object(n.b)("inlineCode",{parentName:"p"},"SYNCHRONIZE"),"."),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz5WSy28SURSH5+9TohZRsYnRneFPscZIFJCCwHSeQKd3Bli5d6VCyBS2hrRaXgMzwyt9LH4994YaadMFiy/33pOcL+dxpXgsikyugHyxBFlRUa/XUavVNuCxRqMBx7bxq+3i2/efcH+fYBDMMQ5mGIdzgUdIDx5G8CH1Be8/ZfAxnYVmlqGXqxsoRhmqWUHhQEXT7WA4W+JkNEFv6OHU89H3ZzgjvNkCUuTRY5FkMRuVwypUTcYRc8CoGsdxBEVVR05WkcoV8aPVRrBYwqdkwXyJYA1/S09jz6DqJg4tC4xZMAwFtlODxd8ktW0HJc1A/kBHJk/CdgenIx+9vwP8GXnoj6foT3ycTUMM/BDSk52oEFpHTAgVpQidWlQ0neIGxWzImklCDem1cByuMCDJiCSc4TQgQngBCaOxGGRVI4lJ1TCk97N4l0xhL/lZUFK0f8IUCVvHXawurjBdt7vRMiE9fxEXlVQqVZqdja+KvgEX8fnxOxc23S4W55eY0Ea59DZS/OUuLcMS34PPLE/JuVtw6X3CmypvkF69fiOEfJtCuK7o/3Mr4dtEQgj5Ni3G7oi2FV4DlQmB4d0hPvIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"out of sync",title:"out of sync",src:"/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png",srcSet:["/static/1910af2de6a3b8ba8fe6293f157d24a5/7fc1e/out_of_sync.png 288w","/static/1910af2de6a3b8ba8fe6293f157d24a5/a5df1/out_of_sync.png 576w","/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png 1152w","/static/1910af2de6a3b8ba8fe6293f157d24a5/23e4c/out_of_sync.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Wait till the app is deployed.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABS0lEQVQoz5WS2U7CQBSG+75GTQxR3CJGL4zeG30hvHCJC0YDghRa6Uw7U5aW7v0904hBXMBJvsxJm/nOPz3VKtsbeG7peO2YMC0OtfI8/8K8FWU5RkEE6QfQlpZXcFmr4+LuCVePDTB3CDEYEV6BQzWTA1jiF+id4fTR5hK67UJbXStBDD0EUQzpBdB5H3EcI4oTJGmGlOgwgXqX4cXgBPtGk543aFdom1s74MJFGIYYRwkMMSRJCi8IEJI4odqg7k2To/Vmz0UrrZdhyz58fwyfhC1LQrouLFvApkYqrUlXUelmD6smk0aTWitTwh4XcISkRClu6zqq1/eo3tSIB3Qt+0PIFku4u1cBcyQ8z6fvFqPdc9C2xCeT7tP7n8L9g0OMaNx5lhWDmI4/e6WFEh4dnxRCNYh4SjgrWVh4enZeCNU01a/zn8M/8Q7Xwt9i+0+CUwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"synched app",title:"synched app",src:"/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png",srcSet:["/static/03f918ce36943230732e63f4259706af/7fc1e/synched_app.png 288w","/static/03f918ce36943230732e63f4259706af/a5df1/synched_app.png 576w","/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png 1152w","/static/03f918ce36943230732e63f4259706af/ba1f3/synched_app.png 1574w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Once the app is deployed, click on it to see the details.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.583333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz22Q63KCMBCFeeNWW2s7vbxjdaa2IoRbJAkQIFzUP54u8VY7MvPNZje7Z09w3qYPmLk+VkGErCjhBzFWLMLSD4kALkWPai4LLV3fY7fbYbs9MJybrofUFVLCuR+N8OX54CJD228w8xjlAWIusCCBT7qbMwYvShDxFLe+/X5/iIRzNxqjbHvU7QZV00FVBlnVwPRbFKaFKGtkpoE2HUy3QUlR1y3lt3EeJ1MsY0FIrBIJjyv8RCm+w5SiQEDORV5CFBVCkR97L7g09xfr0F8rGiww92IsgsS6yeuGavlZkKsCQZrZ3iFfZxqJ0pRnVzjjx4l1xdKcxDgWIYcsDQlo6zjJtV0gdY2IFjASTfMKsSzgc2lFhvlhkU/ReXp+ORYPGxjhJsPzlW0cXKxJTNF/ldrY2ulumDmIXaLz+v5xVTydT9haoqzbgf93ZzPH8y/FdUhwIfQGjgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app deployed",title:"sample app deployed",src:"/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png",srcSet:["/static/ed3d6351842156b1ad02675f43c47981/7fc1e/sample_app_deployed.png 288w","/static/ed3d6351842156b1ad02675f43c47981/a5df1/sample_app_deployed.png 576w","/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png 1152w","/static/ed3d6351842156b1ad02675f43c47981/23e4c/sample_app_deployed.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.819444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABH0lEQVQY021P2Y6DMBDj/z+uD7tqpQJJICQcgXJDu6u2XieobxvJmngyYzvRWWpIbdFPC7StkRUlRG4OZEXgmSmRKI1pWeHP6/XG+33g+Xxi2e9o5xXrzy+ii5AwVYNtf+Cc5fhOJHJT4ZprnJIUX0pCFBaSBtu+47/jhUMlomm7YybGZYMbZ7hhpuMDI3s1726a0U0rPnMD54Z5Q89Evga+HNxrRBdlEWt+teqg6xtE6SArh7ob4PoJxvVQZYuK/IPUOsRFjSv3fI2LBgkh2I9OV4VLZkKqnklU1UI3HcXGsJyT+15zGwNMc5gWrDW5bXvO3yBp6kNF3l0QqXEEnQzTUrDqRibmG3upbbg4hGVlm5DQC3pD5X9ELqw37vAHt2zBs7cBahEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app full deployment",title:"sample app full deployment",src:"/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png",srcSet:["/static/72416f00d3f584833043748ee2a28954/7fc1e/sample_app_full_deployment.png 288w","/static/72416f00d3f584833043748ee2a28954/a5df1/sample_app_full_deployment.png 576w","/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png 1152w","/static/72416f00d3f584833043748ee2a28954/a8e2d/sample_app_full_deployment.png 1577w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("h2",null,"Verifying the deployment"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Access the app to verify if it is correctly deployed."),Object(n.b)("li",{parentName:"ul"},"List the cloudnativesampleapp-service route",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"oc get route\n")),"  It should have an IP under ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," column",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                 HOST/PORT                                     PATH   SERVICES                       PORT   TERMINATION   WILDCARD\ncloudnative-sample   cloudnative-sample-default.apps-crc.testing          cloudnativesampleapp-service   9080                 None\n"))),Object(n.b)("li",{parentName:"ul"},"Set an environment variable ",Object(n.b)("inlineCode",{parentName:"li"},"APP_URL")," using the ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"export APP_URL=\"http://$(oc get route cloudnative-sample -o jsonpath='{.status.ingress[0].host}')\"\necho ARGOCD_SERVER=$APP_URL\n"))),Object(n.b)("li",{parentName:"ul"},"Access the url using ",Object(n.b)("inlineCode",{parentName:"li"},"curl"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),'curl "$APP_URL/greeting?name=Carlos"\n')),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),'{"id":2,"content":"Welcome to Cloudnative bootcamp !!! Hello, Carlos :)"}\n')))),Object(n.b)("h2",null,"Using the ArgoCD CLI"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Login using the cli.")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Use ",Object(n.b)("inlineCode",{parentName:"p"},"admin")," as the username and get the password with the following command"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"export ARGOCD_PASSWORD=$(oc get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d)\necho $ARGOCD_PASSWORD\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Now login as follows."),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd login --username admin --password $ARGOCD_PASSWORD $ARGOCD_SERVER\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"WARNING: server certificate had error: x509: cannot validate certificate for 10.97.240.99 because it doesn't contain \nany IP SANs. Proceed insecurely (y/n)? y\n\n'admin' logged in successfully\nContext 'example-argocd-server-argocd.apps-crc.testing' updated\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"List the applications"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app list\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME    CLUSTER                         NAMESPACE  PROJECT  STATUS  HEALTH   SYNCPOLICY  CONDITIONS  REPO                                                                     PATH   TARGET\nsample  https://kubernetes.default.svc  default    default  Synced  Healthy  <none>      <none>      https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy  openshift  HEAD\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Get application details"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app get sample\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"Name:               sample\nProject:            default\nServer:             https://kubernetes.default.svc\nNamespace:          default\nURL:                https://10.97.240.99/applications/sample\nRepo:               https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy\nTarget:             HEAD\nPath:               openshift\nSyncWindow:         Sync Allowed\nSync Policy:        <none>\nSync Status:        Synced to HEAD (9684037)\nHealth Status:      Healthy\n\nGROUP  KIND        NAMESPACE  NAME                             STATUS  HEALTH   HOOK  MESSAGE\n    Service     default    cloudnativesampleapp-service     Synced  Healthy        service/cloudnativesampleapp-service created\napps   Deployment  default    cloudnativesampleapp-deployment  Synced  Healthy        deployment.apps/cloudnativesampleapp-deployment created\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Show application deployment history"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app history sample\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"ID  DATE                           REVISION\n0   2020-02-12 21:10:32 -0500 EST  HEAD (9684037)\n")))),Object(n.b)("h2",null,"References"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(c.a)({parentName:"li"},{href:"https://argoproj.github.io/argo-cd/"}),"ArgoCD")))),Object(n.b)(o,{label:"IKS",mdxType:"Tab"},Object(n.b)("h2",null,"Pre-requisites"),Object(n.b)("p",null,"Make sure your environment is setup properly for the lab."),Object(n.b)("p",null,"Check the ",Object(n.b)("a",Object(c.a)({parentName:"p"},{href:"../prerequisites/#environment-setup"}),"Environment Setup")," page for your setup."),Object(n.b)("h2",null,"ArgoCD Installation"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Create the namespace ",Object(n.b)("inlineCode",{parentName:"p"},"argocd")," to install argocd"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create namespace argocd\nexport ARGOCD_NAMESPACE=argocd\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Create RBAC resources"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/service_account.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role_binding.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/ibm-cloud-architecture/learning-cloudnative-101/master/static/yamls/argo-lab/argo-clusteradmin.yaml\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Install CRDs"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_applications_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_appprojects_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocdexports_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocds_crd.yaml\n")),Object(n.b)("p",{parentName:"li"},"  Verify CRDs"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get crd -n argocd\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                        CREATED AT\napplications.argoproj.io    2020-05-15T02:05:55Z\nappprojects.argoproj.io     2020-05-15T02:05:56Z\nargocdexports.argoproj.io   2020-05-15T02:08:21Z\nargocds.argoproj.io         2020-05-15T02:08:21Z\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Deploy Operator"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/operator.yaml\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Deploy ArgoCD CO"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/examples/argocd-lb.yaml\n")),Object(n.b)("p",{parentName:"li"},"  Verify that ArgoCD Pods are running"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get pods -n argocd\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                                                     READY   STATUS    RESTARTS   AGE\nargocd-operator-5f7d8cf7d8-486vn                         1/1     Running   0          3m46s\nexample-argocd-application-controller-7dc5fcb75d-xkk5h   1/1     Running   0          2m3s\nexample-argocd-dex-server-bb9df96cb-ndmhl                1/1     Running   0          2m3s\nexample-argocd-redis-756b6764-sb2gt                      1/1     Running   0          2m3s\nexample-argocd-repo-server-75944fcf87-zmh48              1/1     Running   0          2m3s\nexample-argocd-server-747b684c8c-xhgl9                   1/1     Running   0          2m3s\n")),Object(n.b)("p",{parentName:"li"},"  Verify that the other ArgoCD resources are created"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"kubectl get cm,secret,svc,deploy -n argocd\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"List the argocd-server service"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get svc example-argocd-server -n argocd\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"From the script, the Argo Server service has a ",Object(n.b)("inlineCode",{parentName:"p"},"type")," of ",Object(n.b)("inlineCode",{parentName:"p"},"LoadBalancer"),". If the ",Object(n.b)("inlineCode",{parentName:"p"},"ExternalIP")," is in a ",Object(n.b)("inlineCode",{parentName:"p"},"pending")," state, then there is no loadBalancer for your cluster, so we only need the the ArgoCD server’s ",Object(n.b)("inlineCode",{parentName:"p"},"NodePort"),". Otherwise use the ",Object(n.b)("inlineCode",{parentName:"p"},"ExternalIP")," and ",Object(n.b)("inlineCode",{parentName:"p"},"NodePort")," to access Argo."),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                    TYPE           CLUSTER-IP      EXTERNAL-IP     PORT(S)                      AGE\nexample-argocd-server   LoadBalancer   10.105.73.245   <pending>   80:31138/TCP,443:31932/TCP   5m3s\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"To access the service we need the ",Object(n.b)("inlineCode",{parentName:"p"},"Node's External IP")," and the ",Object(n.b)("inlineCode",{parentName:"p"},"NodePort"),". Let’s set an environment variable ",Object(n.b)("inlineCode",{parentName:"p"},"ARGOCD_URL")," with ",Object(n.b)("inlineCode",{parentName:"p"},"NODE_EXTERNAL_IP"),":",Object(n.b)("inlineCode",{parentName:"p"},"NodePort"),"."),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'export NODE_EXTERNAL_IP="$(kubectl get nodes -o jsonpath=\'{.items[0].status.addresses[?(@.type=="ExternalIP")].address}\')"\nexport ARGOCD_NODEPORT="$(kubectl get svc example-argocd-server -n $ARGOCD_NAMESPACE -o jsonpath=\'{.spec.ports[0].nodePort}\')"\nexport ARGOCD_URL="https://$NODE_EXTERNAL_IP:$ARGOCD_NODEPORT"\necho ARGOCD_URL=$ARGOCD_URL\n'))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"If you can’t access the NodePort from your computer and only http/80 then edit the argocd-server and add the flag ",Object(n.b)("inlineCode",{parentName:"p"},"--insecure")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl edit -n argocd deployment example-argocd-server\n")),Object(n.b)("p",{parentName:"li"},"  Use the kube api to proxy into the argocd server using ",Object(n.b)("inlineCode",{parentName:"p"},"kubectl port-forward")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"kubectl port-forward service/example-argocd-server 8080:80 -n argocd\n")),Object(n.b)("p",{parentName:"li"},"  Then you can access the argocd server locally on port 8080 ",Object(n.b)("a",Object(c.a)({parentName:"p"},{href:"http://localhost:8080"}),"http://localhost:8080")))),Object(n.b)("h2",null,"Deploying the app"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Login using the Browser into the UI using ",Object(n.b)("inlineCode",{parentName:"li"},"$ARGOCD_URL")," or ",Object(n.b)("inlineCode",{parentName:"li"},"localhost:8080")," if using port-forward"),Object(n.b)("li",{parentName:"ul"},"Use ",Object(n.b)("inlineCode",{parentName:"li"},"admin")," as the username and get the password with the following command",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d\n")),"  For example the output is similar to this:",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"tyafMb7BNvO0kP9eizx3CojrK8pYJFQq\n")))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACeUlEQVQoz1XRW1MScRgGcL5NkyUqoJyXFXZZ2EXOKuApzY3QQNFAPKTmKcYpy5rptvuu+hAdPFY3Tpk1ddMXaJrJTHh69w8y487sxV7sb57neXVXmhRcbQ6iSR/GtdYomg3d0Bt6oDcm0NqegsE8AINlECb7MMzcKKyuNGydGbi8ORhsKt7sHEF7/v48QbVyDh2DWghqi6PF2IsWUwJWbgSd3gzc0hhEOQupKw9RmYSNvw2HexxOIYtO/xRMzkwDPPv9C9VqFbrrBOmNPZQmibaOPkozgA7HMGyuUZgpjZkATqBXzDKI806A901BCBRh4XN4ewGeV2qglqitI8Ugk3UI7Vo1xwhMXBqhSB6p+CSsYp7QLFxSnpJNw60UIYXmYBOm8G7vU63y2b8aaDD3w3gBOW/C4rpF6VRY5Fm8Kpdx/GQBUnIdPGEepUDJShCDc/BHF+GUZrCz/5mBfwjUHl27/QZVJIhTYeXTsLvHwHnGYRILeFkq4GhjAkJkkaXSIG9oAT76DnSvgJfnsXvwhUGVSr2yWYPql3N4tK1y4Gknu1zCC3UIr+9E6ed7hM0zyB9dhhJfQSixAU9wGbuHJww8pw1ZQgbVL+fyTrLBed80lNg8MuoccuoMEoOrkCJLDAr0rKEr8QCR/k14I2vYO/x6GWxcjg1+l3YqQugq0TsLgVKJ4SVKtlyDejcQSpYR7ttEfGgLvngZ+++/NUBWuXE5udgYXAovULUlyLH7VHeVQUENSm1SsoeIDT5G78hTKIlHOPjwvb5htZbQLRfgCcxcGtwf03ZapVTrCFK9Cyg6sEXJttE9/AxJ9TmCfds4/PijduXTU5bwP4/dCCEkOwCaAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"ArgoCD Login",title:"ArgoCD Login",src:"/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png",srcSet:["/static/30fe4e9c7b5cce19f88155110ad1896d/7fc1e/argocd_login.png 288w","/static/30fe4e9c7b5cce19f88155110ad1896d/a5df1/argocd_login.png 576w","/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png 1152w","/static/30fe4e9c7b5cce19f88155110ad1896d/96c52/argocd_login.png 1571w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Now go back to the ArgoCD home and click on ",Object(n.b)("inlineCode",{parentName:"li"},"NEW APP"),"."),Object(n.b)("li",{parentName:"ul"},"Add the below details:"),Object(n.b)("li",{parentName:"ul"},"Application Name: ",Object(n.b)("inlineCode",{parentName:"li"},"sample")),Object(n.b)("li",{parentName:"ul"},"Project - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"SYNC POLICY: ",Object(n.b)("inlineCode",{parentName:"li"},"Manual")),Object(n.b)("li",{parentName:"ul"},"REPO URL: ",Object(n.b)("inlineCode",{parentName:"li"},"https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy")),Object(n.b)("li",{parentName:"ul"},"Revision: ",Object(n.b)("inlineCode",{parentName:"li"},"HEAD")),Object(n.b)("li",{parentName:"ul"},"Path: ",Object(n.b)("inlineCode",{parentName:"li"},"kubernetes"))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.166666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVQoz42S20rDQBCG9wUVBdNQLaJXoleib+GNIoq2KaElnl9FFERUEBGvBG3TVN00h93kdzYkNjEeMvAzS7L7zb87wxq6hj3DRKtt4vj0DOdXN7i8f8QrH8F553A+qullMMRzzwabnJrG5m4TG1s72N438EY/4zhGFEWkuIIixADuHp5wcX0LNkFA0zpCu2uhc3iCnj3AyPMQETSuKoKq8Ogc02o6jI6FptlNwAoowjB1WE0yD5zRauTu4AtoO0NIKau7SzUG1spAQcBMsoLUPuXU830wvV4vAPvKIT12EAqEQhYUCJF8/01+EILNzjVKDn2qJOjwd0XkJInkiqlyV1Yu2fzCYgGomsI5h+u6SeaUs7UqNB6pclNUZkvLKyWHWcWf4q/GSEnA1bX1wtj0c2OTPXq2/nd8aM8nmtwnmGJ0cY0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details one",title:"app details one",src:"/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png",srcSet:["/static/59ae416e31ac0c0d6526258e1634f6e5/7fc1e/app_argo_1.png 288w","/static/59ae416e31ac0c0d6526258e1634f6e5/a5df1/app_argo_1.png 576w","/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png 1152w","/static/59ae416e31ac0c0d6526258e1634f6e5/0b124/app_argo_1.png 1728w","/static/59ae416e31ac0c0d6526258e1634f6e5/4ea69/app_argo_1.png 2304w","/static/59ae416e31ac0c0d6526258e1634f6e5/0d3df/app_argo_1.png 3141w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Cluster - Select the default one ",Object(n.b)("inlineCode",{parentName:"li"},"https://kubernetes.default.svc")," to deploy in-cluster"),Object(n.b)("li",{parentName:"ul"},"Namespace - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"Click Create to finish")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz5WRwU6DQBCGeUCjpkIjaWJ6NH0UL8akTVppsK0l1EfxogdPHnyBRkqBBRZ24e/sNiHhYIRJ/sxhZ76Znd+wrQGmcwfzZweev8P75xc+vn+wTxgOxxiHqLt+wwjG5dU1HmcLPDxNMXNcsCyDFBJSSvQNQT3GBQHdjYfl6hUb/w1BeARjTEsIgbquUVfV/6K6kuoN0xrCIdjCXWPl7RDQ6ik9iBooqLCXFHBgmliutw1wH4RIMo44zRFn3ZWoTD3GjWW1gAEdNs25nlaUArw85y7KeAFjeGs3wJetjyTNkOc5OOf60FVV9zPFHo3aQJaiVJvRNBWMBihzVGiD/pAKbcrdeEymtIFCf7fURVGi3JbdgfeTSePy+cupfpSy0jkk19XG3YASJ7n+3VIREJLQAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details two",title:"app details two",src:"/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png",srcSet:["/static/39813c22bfaccabf506ce07d24062289/7fc1e/app_argo_2.png 288w","/static/39813c22bfaccabf506ce07d24062289/a5df1/app_argo_2.png 576w","/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png 1152w","/static/39813c22bfaccabf506ce07d24062289/0b124/app_argo_2.png 1728w","/static/39813c22bfaccabf506ce07d24062289/4ea69/app_argo_2.png 2304w","/static/39813c22bfaccabf506ce07d24062289/b5501/app_argo_2.png 3149w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"You will now see the available apps.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQoz42Q2U7CQBSG+8iaEC9QgcirKTcGY8Q0EVDUlqXrdKPtdEo+pzUYjYpefJmTmcm/HGPY62LOF8wXr1irNUqplqqqPuZD1Jqt/iuyHDdOMY47Ha7vp4xuTcbmDC9KCOKMMNkSJFk7uyLB+YXmbRnEPHuCFz/COOqcINKcbVkRpSmut6SsFLKSqLqmrndYTsDU2jC3HWY/0NxPGywH47w/wBcxeVHomiVh2NTeURT5eyUtanshj0uXp5X3J0b3rNcKFqVEygLHtRF6FyJOSNKsFV35Qqf4LtiY7I32s3Ha67PxQ4TenVIV5uyBy/GE0c2Eq/Ed9sbTglFb618JBxdD3CAiinVKKVms/S/s3T+fh3gDsMQDpdnzrqIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sampleapp create",title:"sampleapp create",src:"/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png",srcSet:["/static/eddb5c8846254c4846d2507394ff8490/7fc1e/sampleapp_create.png 288w","/static/eddb5c8846254c4846d2507394ff8490/a5df1/sampleapp_create.png 576w","/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png 1152w","/static/eddb5c8846254c4846d2507394ff8490/0b124/sampleapp_create.png 1728w","/static/eddb5c8846254c4846d2507394ff8490/4ea69/sampleapp_create.png 2304w","/static/eddb5c8846254c4846d2507394ff8490/74fc2/sampleapp_create.png 3138w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Initially, the app will be out of sync. It is yet to be deployed. You need to sync it for deploying.")),Object(n.b)("p",null,"To sync the application, click ",Object(n.b)("inlineCode",{parentName:"p"},"SYNC")," and then ",Object(n.b)("inlineCode",{parentName:"p"},"SYNCHRONIZE"),"."),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz5WSy28SURSH5+9TohZRsYnRneFPscZIFJCCwHSeQKd3Bli5d6VCyBS2hrRaXgMzwyt9LH4994YaadMFiy/33pOcL+dxpXgsikyugHyxBFlRUa/XUavVNuCxRqMBx7bxq+3i2/efcH+fYBDMMQ5mGIdzgUdIDx5G8CH1Be8/ZfAxnYVmlqGXqxsoRhmqWUHhQEXT7WA4W+JkNEFv6OHU89H3ZzgjvNkCUuTRY5FkMRuVwypUTcYRc8CoGsdxBEVVR05WkcoV8aPVRrBYwqdkwXyJYA1/S09jz6DqJg4tC4xZMAwFtlODxd8ktW0HJc1A/kBHJk/CdgenIx+9vwP8GXnoj6foT3ycTUMM/BDSk52oEFpHTAgVpQidWlQ0neIGxWzImklCDem1cByuMCDJiCSc4TQgQngBCaOxGGRVI4lJ1TCk97N4l0xhL/lZUFK0f8IUCVvHXawurjBdt7vRMiE9fxEXlVQqVZqdja+KvgEX8fnxOxc23S4W55eY0Ea59DZS/OUuLcMS34PPLE/JuVtw6X3CmypvkF69fiOEfJtCuK7o/3Mr4dtEQgj5Ni3G7oi2FV4DlQmB4d0hPvIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"out of sync",title:"out of sync",src:"/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png",srcSet:["/static/1910af2de6a3b8ba8fe6293f157d24a5/7fc1e/out_of_sync.png 288w","/static/1910af2de6a3b8ba8fe6293f157d24a5/a5df1/out_of_sync.png 576w","/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png 1152w","/static/1910af2de6a3b8ba8fe6293f157d24a5/23e4c/out_of_sync.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Wait till the app is deployed.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABS0lEQVQoz5WS2U7CQBSG+75GTQxR3CJGL4zeG30hvHCJC0YDghRa6Uw7U5aW7v0904hBXMBJvsxJm/nOPz3VKtsbeG7peO2YMC0OtfI8/8K8FWU5RkEE6QfQlpZXcFmr4+LuCVePDTB3CDEYEV6BQzWTA1jiF+id4fTR5hK67UJbXStBDD0EUQzpBdB5H3EcI4oTJGmGlOgwgXqX4cXgBPtGk543aFdom1s74MJFGIYYRwkMMSRJCi8IEJI4odqg7k2To/Vmz0UrrZdhyz58fwyfhC1LQrouLFvApkYqrUlXUelmD6smk0aTWitTwh4XcISkRClu6zqq1/eo3tSIB3Qt+0PIFku4u1cBcyQ8z6fvFqPdc9C2xCeT7tP7n8L9g0OMaNx5lhWDmI4/e6WFEh4dnxRCNYh4SjgrWVh4enZeCNU01a/zn8M/8Q7Xwt9i+0+CUwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"synched app",title:"synched app",src:"/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png",srcSet:["/static/03f918ce36943230732e63f4259706af/7fc1e/synched_app.png 288w","/static/03f918ce36943230732e63f4259706af/a5df1/synched_app.png 576w","/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png 1152w","/static/03f918ce36943230732e63f4259706af/ba1f3/synched_app.png 1574w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Once the app is deployed, click on it to see the details.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.583333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz22Q63KCMBCFeeNWW2s7vbxjdaa2IoRbJAkQIFzUP54u8VY7MvPNZje7Z09w3qYPmLk+VkGErCjhBzFWLMLSD4kALkWPai4LLV3fY7fbYbs9MJybrofUFVLCuR+N8OX54CJD228w8xjlAWIusCCBT7qbMwYvShDxFLe+/X5/iIRzNxqjbHvU7QZV00FVBlnVwPRbFKaFKGtkpoE2HUy3QUlR1y3lt3EeJ1MsY0FIrBIJjyv8RCm+w5SiQEDORV5CFBVCkR97L7g09xfr0F8rGiww92IsgsS6yeuGavlZkKsCQZrZ3iFfZxqJ0pRnVzjjx4l1xdKcxDgWIYcsDQlo6zjJtV0gdY2IFjASTfMKsSzgc2lFhvlhkU/ReXp+ORYPGxjhJsPzlW0cXKxJTNF/ldrY2ulumDmIXaLz+v5xVTydT9haoqzbgf93ZzPH8y/FdUhwIfQGjgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app deployed",title:"sample app deployed",src:"/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png",srcSet:["/static/ed3d6351842156b1ad02675f43c47981/7fc1e/sample_app_deployed.png 288w","/static/ed3d6351842156b1ad02675f43c47981/a5df1/sample_app_deployed.png 576w","/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png 1152w","/static/ed3d6351842156b1ad02675f43c47981/23e4c/sample_app_deployed.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.819444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABH0lEQVQY021P2Y6DMBDj/z+uD7tqpQJJICQcgXJDu6u2XieobxvJmngyYzvRWWpIbdFPC7StkRUlRG4OZEXgmSmRKI1pWeHP6/XG+33g+Xxi2e9o5xXrzy+ii5AwVYNtf+Cc5fhOJHJT4ZprnJIUX0pCFBaSBtu+47/jhUMlomm7YybGZYMbZ7hhpuMDI3s1726a0U0rPnMD54Z5Q89Evga+HNxrRBdlEWt+teqg6xtE6SArh7ob4PoJxvVQZYuK/IPUOsRFjSv3fI2LBgkh2I9OV4VLZkKqnklU1UI3HcXGsJyT+15zGwNMc5gWrDW5bXvO3yBp6kNF3l0QqXEEnQzTUrDqRibmG3upbbg4hGVlm5DQC3pD5X9ELqw37vAHt2zBs7cBahEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app full deployment",title:"sample app full deployment",src:"/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png",srcSet:["/static/72416f00d3f584833043748ee2a28954/7fc1e/sample_app_full_deployment.png 288w","/static/72416f00d3f584833043748ee2a28954/a5df1/sample_app_full_deployment.png 576w","/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png 1152w","/static/72416f00d3f584833043748ee2a28954/a8e2d/sample_app_full_deployment.png 1577w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("h2",null,"Verifying the deployment"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Access the app to verify if it is correctly deployed."),Object(n.b)("li",{parentName:"ul"},"List the cloudnativesampleapp-service service",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get svc cloudnativesampleapp-service\n")),"  It will have the ",Object(n.b)("inlineCode",{parentName:"li"},"NodePort")," for the application. In this case, it is ",Object(n.b)("inlineCode",{parentName:"li"},"30499"),". ",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                           TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE\ncloudnativesampleapp-service   NodePort   172.21.118.165   <none>        9080:30499/TCP   20s\n"))),Object(n.b)("li",{parentName:"ul"},"Set an environment variable ",Object(n.b)("inlineCode",{parentName:"li"},"APP_URL")," using the ",Object(n.b)("inlineCode",{parentName:"li"},"Node's IP")," and ",Object(n.b)("inlineCode",{parentName:"li"},"NodePort")," values",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'export APP_NODE_PORT="$(kubectl get svc cloudnativesampleapp-service -n default -o jsonpath=\'{.spec.ports[0].nodePort}\')"\nexport APP_URL="$NODE_EXTERNAL_IP:$APP_NODE_PORT"\necho Application=$APP_URL\n'))),Object(n.b)("li",{parentName:"ul"},"Access the url using ",Object(n.b)("inlineCode",{parentName:"li"},"curl"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'curl "$APP_URL/greeting?name=Carlos"\n')),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),'{"id":2,"content":"Welcome to Cloudnative bootcamp !!! Hello, Carlos :)"}\n')))),Object(n.b)("h2",null,"References"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(c.a)({parentName:"li"},{href:"https://argoproj.github.io/argo-cd/"}),"ArgoCD")))),Object(n.b)(o,{label:"Minikube",mdxType:"Tab"},Object(n.b)("h2",null,"Pre-requisites"),Object(n.b)("p",null,"Make sure your environment is setup properly for the lab."),Object(n.b)("p",null,"Check the ",Object(n.b)("a",Object(c.a)({parentName:"p"},{href:"../prerequisites/#environment-setup"}),"Environment Setup")," page for your setup."),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Install the ",Object(n.b)("inlineCode",{parentName:"p"},"argocd")," CLI, for example on OSX use brew"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"brew tap argoproj/tap\nbrew install argoproj/tap/argocd\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Remember to have minikube tunnel running in another terminal"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"minikube tunnel\n")))),Object(n.b)("h2",null,"ArgoCD Installation"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Create the namespace ",Object(n.b)("inlineCode",{parentName:"li"},"argocd")," to install argocd",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create namespace argocd\n"))),Object(n.b)("li",{parentName:"ul"},"Create RBAC resources",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/service_account.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role_binding.yaml\n")),"  Create ClusterRoleBinding for ",Object(n.b)("inlineCode",{parentName:"li"},"cluster-admin")," role for ",Object(n.b)("inlineCode",{parentName:"li"},"sa")," ",Object(n.b)("inlineCode",{parentName:"li"},"argocd-application-controller")," in namespace ",Object(n.b)("inlineCode",{parentName:"li"},"argocd"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"cat <<'EOF' | kubectl create -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    app.kubernetes.io/component: application-controller\n    app.kubernetes.io/name: argocd-application-controller\n    app.kubernetes.io/part-of: argocd\n  name: argocd-application-controller\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n  - kind: ServiceAccount\n    name: argocd-application-controller\n    namespace: argocd\nEOF\n"))),Object(n.b)("li",{parentName:"ul"},"Install CRDs",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_applications_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_appprojects_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocdexports_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocds_crd.yaml\n")),"  Verify CRDs",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get crd -n argocd\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                        CREATED AT\napplications.argoproj.io    2020-05-15T02:05:55Z\nappprojects.argoproj.io     2020-05-15T02:05:56Z\nargocdexports.argoproj.io   2020-05-15T02:08:21Z\nargocds.argoproj.io         2020-05-15T02:08:21Z\n"))),Object(n.b)("li",{parentName:"ul"},"Deploy Operator",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/operator.yaml\n"))),Object(n.b)("li",{parentName:"ul"},"Deploy ArgoCD CO",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/examples/argocd-lb.yaml\n")),"  Verify that ArgoCD Pods are running",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get pods -n argocd\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                                                     READY   STATUS    RESTARTS   AGE\nargocd-operator-5f7d8cf7d8-486vn                         1/1     Running   0          3m46s\nexample-argocd-application-controller-7dc5fcb75d-xkk5h   1/1     Running   0          2m3s\nexample-argocd-dex-server-bb9df96cb-ndmhl                1/1     Running   0          2m3s\nexample-argocd-redis-756b6764-sb2gt                      1/1     Running   0          2m3s\nexample-argocd-repo-server-75944fcf87-zmh48              1/1     Running   0          2m3s\nexample-argocd-server-747b684c8c-xhgl9                   1/1     Running   0          2m3s\n")),"  Verify that the other ArgoCD resources are created",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"kubectl get cm,secret,svc,deploy -n argocd\n"))),Object(n.b)("li",{parentName:"ul"},"Expose the ArgoCD Server service as a NodePort.",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'kubectl expose deployment.apps/example-argocd-server --type="NodePort" --port 8080 --name=argo-nodeport -n argocd  \n'))),Object(n.b)("li",{parentName:"ul"},"List the argocd-server service",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get svc example-argocd-server -n argocd\n")),"  It should have an IP under ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," column",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                    TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE\nexample-argocd-server   LoadBalancer   172.21.106.88   <pending>     80:32010/TCP,443:31861/TCP   111m\n"))),Object(n.b)("li",{parentName:"ul"},"Set an environment variable ",Object(n.b)("inlineCode",{parentName:"li"},"ARGOCD_URL")," using the ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'export ARGOCD_NAMESPACE=argocd\nexport ARGOCD_SERVER="$(kubectl get svc example-argocd-server -n $ARGOCD_NAMESPACE -o jsonpath=\'{.status.loadBalancer.ingress[0].ip}\')"\nexport ARGOCD_URL="https://$ARGOCD_SERVER"\necho ARGOCD_URL=$ARGOCD_URL\necho ARGOCD_SERVER=$ARGOCD_SERVER\n')))),Object(n.b)("h2",null,"Deploying the app"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Login into the UI.",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"open $ARGOCD_URL\n"))),Object(n.b)("li",{parentName:"ul"},"Use ",Object(n.b)("inlineCode",{parentName:"li"},"admin")," as the username and get the password with the following command",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d\n")),"  For example the output is similar to this:",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"tyafMb7BNvO0kP9eizx3CojrK8pYJFQq\n")))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACeUlEQVQoz1XRW1MScRgGcL5NkyUqoJyXFXZZ2EXOKuApzY3QQNFAPKTmKcYpy5rptvuu+hAdPFY3Tpk1ddMXaJrJTHh69w8y487sxV7sb57neXVXmhRcbQ6iSR/GtdYomg3d0Bt6oDcm0NqegsE8AINlECb7MMzcKKyuNGydGbi8ORhsKt7sHEF7/v48QbVyDh2DWghqi6PF2IsWUwJWbgSd3gzc0hhEOQupKw9RmYSNvw2HexxOIYtO/xRMzkwDPPv9C9VqFbrrBOmNPZQmibaOPkozgA7HMGyuUZgpjZkATqBXzDKI806A901BCBRh4XN4ewGeV2qglqitI8Ugk3UI7Vo1xwhMXBqhSB6p+CSsYp7QLFxSnpJNw60UIYXmYBOm8G7vU63y2b8aaDD3w3gBOW/C4rpF6VRY5Fm8Kpdx/GQBUnIdPGEepUDJShCDc/BHF+GUZrCz/5mBfwjUHl27/QZVJIhTYeXTsLvHwHnGYRILeFkq4GhjAkJkkaXSIG9oAT76DnSvgJfnsXvwhUGVSr2yWYPql3N4tK1y4Gknu1zCC3UIr+9E6ed7hM0zyB9dhhJfQSixAU9wGbuHJww8pw1ZQgbVL+fyTrLBed80lNg8MuoccuoMEoOrkCJLDAr0rKEr8QCR/k14I2vYO/x6GWxcjg1+l3YqQugq0TsLgVKJ4SVKtlyDejcQSpYR7ttEfGgLvngZ+++/NUBWuXE5udgYXAovULUlyLH7VHeVQUENSm1SsoeIDT5G78hTKIlHOPjwvb5htZbQLRfgCcxcGtwf03ZapVTrCFK9Cyg6sEXJttE9/AxJ9TmCfds4/PijduXTU5bwP4/dCCEkOwCaAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"ArgoCD Login",title:"ArgoCD Login",src:"/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png",srcSet:["/static/30fe4e9c7b5cce19f88155110ad1896d/7fc1e/argocd_login.png 288w","/static/30fe4e9c7b5cce19f88155110ad1896d/a5df1/argocd_login.png 576w","/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png 1152w","/static/30fe4e9c7b5cce19f88155110ad1896d/96c52/argocd_login.png 1571w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Now go back to the ArgoCD home and click on ",Object(n.b)("inlineCode",{parentName:"li"},"NEW APP"),"."),Object(n.b)("li",{parentName:"ul"},"Add the below details:"),Object(n.b)("li",{parentName:"ul"},"Application Name: ",Object(n.b)("inlineCode",{parentName:"li"},"sample")),Object(n.b)("li",{parentName:"ul"},"Project - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"SYNC POLICY: ",Object(n.b)("inlineCode",{parentName:"li"},"Manual")),Object(n.b)("li",{parentName:"ul"},"REPO URL: ",Object(n.b)("inlineCode",{parentName:"li"},"https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy")),Object(n.b)("li",{parentName:"ul"},"Revision: ",Object(n.b)("inlineCode",{parentName:"li"},"HEAD")),Object(n.b)("li",{parentName:"ul"},"Path: ",Object(n.b)("inlineCode",{parentName:"li"},"kubernetes"))),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.166666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVQoz42S20rDQBCG9wUVBdNQLaJXoleib+GNIoq2KaElnl9FFERUEBGvBG3TVN00h93kdzYkNjEeMvAzS7L7zb87wxq6hj3DRKtt4vj0DOdXN7i8f8QrH8F553A+qullMMRzzwabnJrG5m4TG1s72N438EY/4zhGFEWkuIIixADuHp5wcX0LNkFA0zpCu2uhc3iCnj3AyPMQETSuKoKq8Ogc02o6jI6FptlNwAoowjB1WE0yD5zRauTu4AtoO0NIKau7SzUG1spAQcBMsoLUPuXU830wvV4vAPvKIT12EAqEQhYUCJF8/01+EILNzjVKDn2qJOjwd0XkJInkiqlyV1Yu2fzCYgGomsI5h+u6SeaUs7UqNB6pclNUZkvLKyWHWcWf4q/GSEnA1bX1wtj0c2OTPXq2/nd8aM8nmtwnmGJ0cY0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details one",title:"app details one",src:"/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png",srcSet:["/static/59ae416e31ac0c0d6526258e1634f6e5/7fc1e/app_argo_1.png 288w","/static/59ae416e31ac0c0d6526258e1634f6e5/a5df1/app_argo_1.png 576w","/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png 1152w","/static/59ae416e31ac0c0d6526258e1634f6e5/0b124/app_argo_1.png 1728w","/static/59ae416e31ac0c0d6526258e1634f6e5/4ea69/app_argo_1.png 2304w","/static/59ae416e31ac0c0d6526258e1634f6e5/0d3df/app_argo_1.png 3141w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Cluster - Select the default one ",Object(n.b)("inlineCode",{parentName:"li"},"https://kubernetes.default.svc")," to deploy in-cluster"),Object(n.b)("li",{parentName:"ul"},"Namespace - ",Object(n.b)("inlineCode",{parentName:"li"},"default")),Object(n.b)("li",{parentName:"ul"},"Click Create to finish")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz5WRwU6DQBCGeUCjpkIjaWJ6NH0UL8akTVppsK0l1EfxogdPHnyBRkqBBRZ24e/sNiHhYIRJ/sxhZ76Znd+wrQGmcwfzZweev8P75xc+vn+wTxgOxxiHqLt+wwjG5dU1HmcLPDxNMXNcsCyDFBJSSvQNQT3GBQHdjYfl6hUb/w1BeARjTEsIgbquUVfV/6K6kuoN0xrCIdjCXWPl7RDQ6ik9iBooqLCXFHBgmliutw1wH4RIMo44zRFn3ZWoTD3GjWW1gAEdNs25nlaUArw85y7KeAFjeGs3wJetjyTNkOc5OOf60FVV9zPFHo3aQJaiVJvRNBWMBihzVGiD/pAKbcrdeEymtIFCf7fURVGi3JbdgfeTSePy+cupfpSy0jkk19XG3YASJ7n+3VIREJLQAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"app details two",title:"app details two",src:"/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png",srcSet:["/static/39813c22bfaccabf506ce07d24062289/7fc1e/app_argo_2.png 288w","/static/39813c22bfaccabf506ce07d24062289/a5df1/app_argo_2.png 576w","/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png 1152w","/static/39813c22bfaccabf506ce07d24062289/0b124/app_argo_2.png 1728w","/static/39813c22bfaccabf506ce07d24062289/4ea69/app_argo_2.png 2304w","/static/39813c22bfaccabf506ce07d24062289/b5501/app_argo_2.png 3149w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"You will now see the available apps.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQoz42Q2U7CQBSG+8iaEC9QgcirKTcGY8Q0EVDUlqXrdKPtdEo+pzUYjYpefJmTmcm/HGPY62LOF8wXr1irNUqplqqqPuZD1Jqt/iuyHDdOMY47Ha7vp4xuTcbmDC9KCOKMMNkSJFk7uyLB+YXmbRnEPHuCFz/COOqcINKcbVkRpSmut6SsFLKSqLqmrndYTsDU2jC3HWY/0NxPGywH47w/wBcxeVHomiVh2NTeURT5eyUtanshj0uXp5X3J0b3rNcKFqVEygLHtRF6FyJOSNKsFV35Qqf4LtiY7I32s3Ha67PxQ4TenVIV5uyBy/GE0c2Eq/Ed9sbTglFb618JBxdD3CAiinVKKVms/S/s3T+fh3gDsMQDpdnzrqIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sampleapp create",title:"sampleapp create",src:"/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png",srcSet:["/static/eddb5c8846254c4846d2507394ff8490/7fc1e/sampleapp_create.png 288w","/static/eddb5c8846254c4846d2507394ff8490/a5df1/sampleapp_create.png 576w","/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png 1152w","/static/eddb5c8846254c4846d2507394ff8490/0b124/sampleapp_create.png 1728w","/static/eddb5c8846254c4846d2507394ff8490/4ea69/sampleapp_create.png 2304w","/static/eddb5c8846254c4846d2507394ff8490/74fc2/sampleapp_create.png 3138w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Initially, the app will be out of sync. It is yet to be deployed. You need to sync it for deploying.")),Object(n.b)("p",null,"To sync the application, click ",Object(n.b)("inlineCode",{parentName:"p"},"SYNC")," and then ",Object(n.b)("inlineCode",{parentName:"p"},"SYNCHRONIZE"),"."),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz5WSy28SURSH5+9TohZRsYnRneFPscZIFJCCwHSeQKd3Bli5d6VCyBS2hrRaXgMzwyt9LH4994YaadMFiy/33pOcL+dxpXgsikyugHyxBFlRUa/XUavVNuCxRqMBx7bxq+3i2/efcH+fYBDMMQ5mGIdzgUdIDx5G8CH1Be8/ZfAxnYVmlqGXqxsoRhmqWUHhQEXT7WA4W+JkNEFv6OHU89H3ZzgjvNkCUuTRY5FkMRuVwypUTcYRc8CoGsdxBEVVR05WkcoV8aPVRrBYwqdkwXyJYA1/S09jz6DqJg4tC4xZMAwFtlODxd8ktW0HJc1A/kBHJk/CdgenIx+9vwP8GXnoj6foT3ycTUMM/BDSk52oEFpHTAgVpQidWlQ0neIGxWzImklCDem1cByuMCDJiCSc4TQgQngBCaOxGGRVI4lJ1TCk97N4l0xhL/lZUFK0f8IUCVvHXawurjBdt7vRMiE9fxEXlVQqVZqdja+KvgEX8fnxOxc23S4W55eY0Ea59DZS/OUuLcMS34PPLE/JuVtw6X3CmypvkF69fiOEfJtCuK7o/3Mr4dtEQgj5Ni3G7oi2FV4DlQmB4d0hPvIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"out of sync",title:"out of sync",src:"/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png",srcSet:["/static/1910af2de6a3b8ba8fe6293f157d24a5/7fc1e/out_of_sync.png 288w","/static/1910af2de6a3b8ba8fe6293f157d24a5/a5df1/out_of_sync.png 576w","/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png 1152w","/static/1910af2de6a3b8ba8fe6293f157d24a5/23e4c/out_of_sync.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Wait till the app is deployed.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABS0lEQVQoz5WS2U7CQBSG+75GTQxR3CJGL4zeG30hvHCJC0YDghRa6Uw7U5aW7v0904hBXMBJvsxJm/nOPz3VKtsbeG7peO2YMC0OtfI8/8K8FWU5RkEE6QfQlpZXcFmr4+LuCVePDTB3CDEYEV6BQzWTA1jiF+id4fTR5hK67UJbXStBDD0EUQzpBdB5H3EcI4oTJGmGlOgwgXqX4cXgBPtGk543aFdom1s74MJFGIYYRwkMMSRJCi8IEJI4odqg7k2To/Vmz0UrrZdhyz58fwyfhC1LQrouLFvApkYqrUlXUelmD6smk0aTWitTwh4XcISkRClu6zqq1/eo3tSIB3Qt+0PIFku4u1cBcyQ8z6fvFqPdc9C2xCeT7tP7n8L9g0OMaNx5lhWDmI4/e6WFEh4dnxRCNYh4SjgrWVh4enZeCNU01a/zn8M/8Q7Xwt9i+0+CUwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"synched app",title:"synched app",src:"/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png",srcSet:["/static/03f918ce36943230732e63f4259706af/7fc1e/synched_app.png 288w","/static/03f918ce36943230732e63f4259706af/a5df1/synched_app.png 576w","/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png 1152w","/static/03f918ce36943230732e63f4259706af/ba1f3/synched_app.png 1574w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Once the app is deployed, click on it to see the details.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.583333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz22Q63KCMBCFeeNWW2s7vbxjdaa2IoRbJAkQIFzUP54u8VY7MvPNZje7Z09w3qYPmLk+VkGErCjhBzFWLMLSD4kALkWPai4LLV3fY7fbYbs9MJybrofUFVLCuR+N8OX54CJD228w8xjlAWIusCCBT7qbMwYvShDxFLe+/X5/iIRzNxqjbHvU7QZV00FVBlnVwPRbFKaFKGtkpoE2HUy3QUlR1y3lt3EeJ1MsY0FIrBIJjyv8RCm+w5SiQEDORV5CFBVCkR97L7g09xfr0F8rGiww92IsgsS6yeuGavlZkKsCQZrZ3iFfZxqJ0pRnVzjjx4l1xdKcxDgWIYcsDQlo6zjJtV0gdY2IFjASTfMKsSzgc2lFhvlhkU/ReXp+ORYPGxjhJsPzlW0cXKxJTNF/ldrY2ulumDmIXaLz+v5xVTydT9haoqzbgf93ZzPH8y/FdUhwIfQGjgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app deployed",title:"sample app deployed",src:"/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png",srcSet:["/static/ed3d6351842156b1ad02675f43c47981/7fc1e/sample_app_deployed.png 288w","/static/ed3d6351842156b1ad02675f43c47981/a5df1/sample_app_deployed.png 576w","/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png 1152w","/static/ed3d6351842156b1ad02675f43c47981/23e4c/sample_app_deployed.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.819444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABH0lEQVQY021P2Y6DMBDj/z+uD7tqpQJJICQcgXJDu6u2XieobxvJmngyYzvRWWpIbdFPC7StkRUlRG4OZEXgmSmRKI1pWeHP6/XG+33g+Xxi2e9o5xXrzy+ii5AwVYNtf+Cc5fhOJHJT4ZprnJIUX0pCFBaSBtu+47/jhUMlomm7YybGZYMbZ7hhpuMDI3s1726a0U0rPnMD54Z5Q89Evga+HNxrRBdlEWt+teqg6xtE6SArh7ob4PoJxvVQZYuK/IPUOsRFjSv3fI2LBgkh2I9OV4VLZkKqnklU1UI3HcXGsJyT+15zGwNMc5gWrDW5bXvO3yBp6kNF3l0QqXEEnQzTUrDqRibmG3upbbg4hGVlm5DQC3pD5X9ELqw37vAHt2zBs7cBahEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",Object(c.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"sample app full deployment",title:"sample app full deployment",src:"/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png",srcSet:["/static/72416f00d3f584833043748ee2a28954/7fc1e/sample_app_full_deployment.png 288w","/static/72416f00d3f584833043748ee2a28954/a5df1/sample_app_full_deployment.png 576w","/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png 1152w","/static/72416f00d3f584833043748ee2a28954/a8e2d/sample_app_full_deployment.png 1577w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(n.b)("h2",null,"Verifying the deployment"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Access the app to verify if it is correctly deployed."),Object(n.b)("li",{parentName:"ul"},"List the cloudnativesampleapp-service service",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get svc cloudnativesampleapp-service\n")),"  It should have an IP under ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," column",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME                           TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)          AGE\ncloudnativesampleapp-service   NodePort       10.109.242.212   10.109.242.212   9080:31905/TCP   13m\n"))),Object(n.b)("li",{parentName:"ul"},"Set an environment variable ",Object(n.b)("inlineCode",{parentName:"li"},"APP_URL")," using the ",Object(n.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," and ",Object(n.b)("inlineCode",{parentName:"li"},"NodePort")," values",Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'export APP_URL="$(minikube service --url cloudnativesampleapp-service -n default)"\necho APP_URL=$APP_URL\n'))),Object(n.b)("li",{parentName:"ul"},"Access the url using ",Object(n.b)("inlineCode",{parentName:"li"},"curl"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),'curl "$APP_URL/greeting?name=Carlos"\n')),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),'{"id":2,"content":"Welcome to Cloudnative bootcamp !!! Hello, Carlos :)"}\n')))),Object(n.b)("h2",null,"Using the ArgoCD CLI"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Login using the cli.")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Use ",Object(n.b)("inlineCode",{parentName:"p"},"admin")," as the username and get the password with the following command"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"export ARGOCD_PASSWORD=$(kubectl get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d)\necho $ARGOCD_PASSWORD\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Now login as follows."),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd login --username admin --password $ARGOCD_PASSWORD $ARGOCD_SERVER\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"WARNING: server certificate had error: x509: cannot validate certificate for 10.97.240.99 because it doesn't contain \nany IP SANs. Proceed insecurely (y/n)? y\n\n'admin' logged in successfully\nContext '10.105.73.245' updated\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"List the applications"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app list\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"NAME    CLUSTER                         NAMESPACE  PROJECT  STATUS  HEALTH   SYNCPOLICY  CONDITIONS  REPO                                                                     PATH   TARGET\nsample  https://kubernetes.default.svc  default    default  Synced  Healthy  <none>      <none>      https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy  kubernetes  HEAD\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Get application details"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app get sample\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"Name:               sample\nProject:            default\nServer:             https://kubernetes.default.svc\nNamespace:          default\nURL:                https://10.97.240.99/applications/sample\nRepo:               https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy\nTarget:             HEAD\nPath:               kubernetes\nSyncWindow:         Sync Allowed\nSync Policy:        <none>\nSync Status:        Synced to HEAD (9684037)\nHealth Status:      Healthy\n\nGROUP  KIND        NAMESPACE  NAME                             STATUS  HEALTH   HOOK  MESSAGE\n    Service     default    cloudnativesampleapp-service     Synced  Healthy        service/cloudnativesampleapp-service created\napps   Deployment  default    cloudnativesampleapp-deployment  Synced  Healthy        deployment.apps/cloudnativesampleapp-deployment created\n"))),Object(n.b)("li",{parentName:"ul"},Object(n.b)("p",{parentName:"li"},"Show application deployment history"),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{className:"language-bash"}),"argocd app history sample\n")),Object(n.b)("pre",{parentName:"li"},Object(n.b)("code",Object(c.a)({parentName:"pre"},{}),"ID  DATE                           REVISION\n0   2020-02-12 21:10:32 -0500 EST  HEAD (9684037)\n")))),Object(n.b)("h2",null,"References"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(c.a)({parentName:"li"},{href:"https://argoproj.github.io/argo-cd/"}),"ArgoCD"))))))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-lectures-continuous-deployment-activities-index-mdx-57d2eac4ab0ce18f2dd3.js.map