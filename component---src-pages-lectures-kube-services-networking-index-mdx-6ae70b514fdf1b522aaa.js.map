{"version":3,"sources":["webpack:///./src/pages/lectures/kube-services-networking/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","AnchorLinks","AnchorLink","Tabs","Tab","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","small","parentName","label","isMDXComponent"],"mappings":"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","file":"component---src-pages-lectures-kube-services-networking-index-mdx-6ae70b514fdf1b522aaa.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <AnchorLinks small mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Services</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Ingress</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Activities</AnchorLink>\n    </AnchorLinks>\n    <h1>{`Services`}</h1>\n    <p>{`An abstract way to expose an application running on a set of Pods as a network service.`}</p>\n    <p>{`Kubernetes Pods are mortal. They are born and when they die, they are not resurrected. If you use a Deployment to run your app, it can create and destroy Pods dynamically.`}</p>\n    <p>{`Each Pod gets its own IP address, however in a Deployment, the set of Pods running in one moment in time could be different from the set of Pods running that application a moment later.`}</p>\n    <p>{`In Kubernetes, a Service is an abstraction which defines a logical set of Pods and a policy by which to access them (sometimes this pattern is called a micro-service). The set of Pods targeted by a Service is usually determined by a selector (see below for why you might want a Service without a selector).`}</p>\n    <p>{`If you’re able to use Kubernetes APIs for service discovery in your application, you can query the API server for Endpoints, that get updated whenever the set of Pods in a Service changes.`}</p>\n    <p>{`For non-native applications, Kubernetes offers ways to place a network port or load balancer in between your application and the backend Pods.`}</p>\n    <h2>{`Resources`}</h2>\n    <p><strong parentName=\"p\">{`IKS & OpenShift`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://kubernetes.io/docs/concepts/services-networking/service/\"\n        }}>{`Services`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-intro/\"\n        }}>{`Exposing Services`}</a></li>\n    </ul>\n    <h2>{`References`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-deployment\n  labels:\n    app: nginx\n    version: v1\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n        version: v1\n    spec:\n      containers:\n      - name: nginx\n        image: bitnami/nginx\n        ports:\n        - containerPort: 8080\n          name: http\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  selector:\n    app: nginx\n  ports:\n    - name: http\n      port: 80\n      targetPort: http\n`}</code></pre>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"OpenShift\" mdxType=\"Tab\">\n        <p><strong parentName=\"p\">{` Get Service `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc get svc\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Service Description `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc describe svc my-service\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Expose a service `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc expose service <service_name>\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Route for the Service `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc get route\n`}</code></pre>\n      </Tab>\n      <Tab label=\"IKS\" mdxType=\"Tab\">\n        <p><strong parentName=\"p\">{` Get Service `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl get svc\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Service Description `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl describe svc my-service\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Service Endpoints `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl get ep my-service\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Expose a Deployment via a Service `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl expose deployment my-deployment --port 80 --target-port=http --selector app=nginx --name my-service-2 --type NodePort\n`}</code></pre>\n      </Tab>\n    </Tabs>\n    <h1>{`Routes`}</h1>\n    <p>{`(OpenShift Only)`}</p>\n    <p>{`Routes are Openshift objects that expose services for external clients to reach them by name.  `}</p>\n    <p>{`Routes can insecured or secured on creation using certificates.`}</p>\n    <p>{`The new route inherits the name from the service unless you specify one using the —name option.`}</p>\n    <h2>{`Resources`}</h2>\n    <p><strong parentName=\"p\">{`OpenShift`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/online/pro/dev_guide/routes.html\"\n        }}>{`Routes`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/networking/routes/route-configuration.html\"\n        }}>{`Route Configuration`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/networking/routes/secured-routes.html\"\n        }}>{`Secured Routes`}</a></li>\n    </ul>\n    <h2>{`References`}</h2>\n    <p><strong parentName=\"p\">{` Route Creation `}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`apiVersion: v1\nkind: Route\nmetadata:\n  name: frontend\nspec:\n  to:\n    kind: Service\n    name: frontend\n`}</code></pre>\n    <p><strong parentName=\"p\">{` Secured Route Creation `}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`apiVersion: v1\nkind: Route\nmetadata:\n  name: frontend\nspec:\n  to:\n    kind: Service\n    name: frontend\n  tls:\n    termination: edge\n`}</code></pre>\n    <h3>{`Commands`}</h3>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"OpenShift\" mdxType=\"Tab\">\n        <p><strong parentName=\"p\">{` Create Route from YAML `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc apply -f route.yaml\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Route `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc get route\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Describe Route `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc get route <route-name>\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Get Route YAML `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc get route <route-name> -o yaml\n`}</code></pre>\n      </Tab>\n    </Tabs>\n    <h1>{`Ingress`}</h1>\n    <p>{`An API object that manages external access to the services in a cluster, typically HTTP.`}</p>\n    <p>{`Ingress can provide load balancing, SSL termination and name-based virtual hosting.`}</p>\n    <p>{`Ingress exposes HTTP and HTTPS routes from outside the cluster to services within the cluster. Traffic routing is controlled by rules defined on the Ingress resource.`}</p>\n    <h2>{`Resources`}</h2>\n    <p><strong parentName=\"p\">{`OpenShift`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/networking/ingress-operator.html\"\n        }}>{`Ingress Operator`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.openshift.com/container-platform/4.3/networking/configuring_ingress_cluster_traffic/configuring-ingress-cluster-traffic-ingress-controller.html\"\n        }}>{`Using Ingress Controllers`}</a></li>\n    </ul>\n    <p><strong parentName=\"p\">{`IKS`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://kubernetes.io/docs/concepts/services-networking/ingress/\"\n        }}>{`Ingress`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/\"\n        }}>{`Ingress Controllers`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://kubernetes.io/docs/tasks/access-application-cluster/ingress-minikube/\"\n        }}>{`Minikube Ingress`}</a></li>\n    </ul>\n    <h2>{`References`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: networking.k8s.io/v1beta1 # for versions before 1.14 use extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: example-ingress\nspec:\n  rules:\n  - host: hello-world.info\n    http:\n      paths:\n      - path: /\n        backend:\n          serviceName: web\n          servicePort: 8080\n`}</code></pre>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"OpenShift\" mdxType=\"Tab\">\n        <p><strong parentName=\"p\">{` View Ingress Status `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc describe clusteroperators/ingress\n`}</code></pre>\n        <p><strong parentName=\"p\">{` Describe default Ingress Controller `}</strong></p>\n        <pre><code parentName=\"pre\" {...{}}>{`oc describe --namespace=openshift-ingress-operator ingresscontroller/default\n`}</code></pre>\n      </Tab>\n      <Tab label=\"IKS\" mdxType=\"Tab\">\n        <pre><code parentName=\"pre\" {...{}}>{`minikube addons enable ingress\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl get pods -n kube-system | grep ingress\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl create deployment web --image=bitnami/nginx\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl expose deployment web --name=web --port 8080\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl get svc web\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`minikube service --url web\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubectl get ingress\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`kubcetl describe ingress example-ingress\n`}</code></pre>\n        <pre><code parentName=\"pre\" {...{}}>{`curl hello-world.info --resolve hello-world.info:80:<ADDRESS>\n`}</code></pre>\n      </Tab>\n    </Tabs>\n    <h2>{`Activities`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Task`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Link`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\"><em parentName=\"strong\">{` Try It Yourself `}</em></strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Creating Services`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Create two services with certain requirements.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}><a parentName=\"td\" {...{\n              \"href\": \"../kube-overview/activities/labs/lab8\"\n            }}>{`Setting up Services`}</a></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IKS Ingress Controller`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Configure Ingress on Free IKS Cluster`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}><a parentName=\"td\" {...{\n              \"href\": \"../kube-overview/activities/labs/ingress-iks\"\n            }}>{`Setting IKS Ingress`}</a></td>\n        </tr>\n      </tbody>\n    </table>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}