{"componentChunkName":"component---src-pages-electives-monitoring-sysdig-activities-minikube-index-mdx","path":"/electives/monitoring/sysdig/activities/minikube/","result":{"pageContext":{"frontmatter":{"title":"Sysdig with minikube","description":"Lab to show how to connect minikube to Sysdig"},"relativePagePath":"/electives/monitoring/sysdig/activities/minikube/index.mdx","titleType":"page","MdxNode":{"id":"6bafa56c-e345-52d2-9b54-1b46121ca183","children":[],"parent":"82e34a10-c979-5a9d-b2a4-0ce8a6d95069","internal":{"content":"---\ntitle: Sysdig with minikube\ndescription: Lab to show how to connect minikube to Sysdig\n---\n\n<Accordion>\n  <AccordionItem title=\"1. Provisioning a Sysdig instance from the catalog\">\nTo provision an instance of Sysdig from the IBM Catalog catalog, complete the following steps:\n\n1. [Log in to the IBM Cloud console](https://cloud.ibm.com/login)\n\n1. Click **Catalog**. The list of the services that are available on IBM Catalog opens.\n\n1. To filter the list of services that is displayed, select the **Developer Tools** category.\n\n1. Click the **IBM Cloud Monitoring with Sysdig** tile. The *Observability* dashboard opens.\n\n1. Select **Create instance**. \n\n1. Select the region. \n\n1. Select a service plan. By default, the **Trial** plan is set.\n\n    For more information about the service plans, see [Service plans](https://cloud.ibm.com/docs/Monitoring-with-Sysdig?topic=Monitoring-with-Sysdig-pricing_plans#pricing_plans).\n\n1. Enter a service name.\n\n1. Select a resource group. By default, the **Default** resource group is set.\n\n1. Click **Create**.\n\nAfter you provision an instance, \n\n* The *Observability* dashboard opens. \n* A service ID is automatically created. You can use this service ID to get the Sysdig access key for your instance. \n\nNext, configure a metric source by adding a Sysdig agent. This agent is responsible for collecting and forwarding metrics to Sysdig. \n  </AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"2. Create minikube cluster\">\n\n- For this section use the [Cloud Native VM](/prerequisites/#cloud-native-vm) to run minikube\n- Create the VM and ssh into it\n    ```bash\n    vagrant up\n    vagrant ssh\n    ```\n- Login as root\n    ```bash\n    sudo su\n    ```\n- Ignore the login message about minikube, we need to create the minikube as root with no driver\n    ```bash\n    minikube start --driver=none\n    source /home/vagrant/.bashrc\n    ```\n\n</AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"3. Install Sysdig agent\">\n\n- Login as root if not already\n    ```bash\n    sudo su\n    ```\n\n- Setup the configuration variable for Sysdig Agent, replace the variables with valid values, you can get this from your Sysdig instance on IBM Cloud console:\n    ```bash\n    SYSDIG_ACCESS_KEY=\"INSERT KEY HERE\"\n    REGION=\"us-south | us-east | eu-de | eu-gb | jp-tok | au-syd\"\n    COLLECTOR_ENDPOINT=\"ingest.${REGION}.monitoring.cloud.ibm.com\"\n    TAG_DATA=\"cloudnative:bootcamp\"\n    ```\n    - **SYSDIG_ACCESS_KEY** is the ingestion key for the instance that you previously created.\n    - **COLLECTOR_ENDPOINT** is the ingestion URL for the region where the monitoring instance is available that you previously retrieved.\n    - **TAG_DATA** are comma-separated tags that are formatted as TAG_NAME:TAG_VALUE. You can associate one or more tags to your Sysdig agent. For example: role:serviceX,location:us-south. Later on, you can use these tags to identify metrics from the environment where the agent is running.\n\n\n- Run the following command to download the install script and execute\n    ```bash\n    curl -sL https://ibm.biz/install-sysdig-k8s-agent | \\\n    bash -s -- \\\n    -a ${SYSDIG_ACCESS_KEY} \\\n    -c ${COLLECTOR_ENDPOINT} \\\n    -ac 'sysdig_capture_enabled: false' \\\n    -t ${TAG_DATA} \\\n    -aws\n    ```\n\n</AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"4. Access the Dashboards\">\n\n- Open Sysdig \n- Select Overview\n- Explore the Kubernetes Dashboards, select Explore->Kubernetes\n\n- [Cluster](https://docs.sysdig.com/en/clusters-data.html)\n\n![clusters](./images/overview-clusters.png)\n\n- [Nodes](https://docs.sysdig.com/en/nodes-data.html)\n\n![nodes](./images/overview-nodes.png)\n\n- [Namespaces](https://docs.sysdig.com/en/namespaces-data.html)\n\n![namespaces](./images/overview-namespaces.png)\n\n- [Workloads](https://docs.sysdig.com/en/workloads-data.html)\n\n![workloads](./images/overview-workloads.png)\n\n\n\n  </AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"5. Remove the Sysdig agent\">\n\n- Delete the namespace where the Sysdig agent is installed\n    ```bash\n    kubectl delete ns ibm-observe\n    ```\n\n\n  </AccordionItem>\n</Accordion>\n","type":"Mdx","contentDigest":"868b5f600a246893d4016961041498ff","counter":618,"owner":"gatsby-plugin-mdx"},"exports":[],"rawBody":"---\ntitle: Sysdig with minikube\ndescription: Lab to show how to connect minikube to Sysdig\n---\n\n<Accordion>\n  <AccordionItem title=\"1. Provisioning a Sysdig instance from the catalog\">\nTo provision an instance of Sysdig from the IBM Catalog catalog, complete the following steps:\n\n1. [Log in to the IBM Cloud console](https://cloud.ibm.com/login)\n\n1. Click **Catalog**. The list of the services that are available on IBM Catalog opens.\n\n1. To filter the list of services that is displayed, select the **Developer Tools** category.\n\n1. Click the **IBM Cloud Monitoring with Sysdig** tile. The *Observability* dashboard opens.\n\n1. Select **Create instance**. \n\n1. Select the region. \n\n1. Select a service plan. By default, the **Trial** plan is set.\n\n    For more information about the service plans, see [Service plans](https://cloud.ibm.com/docs/Monitoring-with-Sysdig?topic=Monitoring-with-Sysdig-pricing_plans#pricing_plans).\n\n1. Enter a service name.\n\n1. Select a resource group. By default, the **Default** resource group is set.\n\n1. Click **Create**.\n\nAfter you provision an instance, \n\n* The *Observability* dashboard opens. \n* A service ID is automatically created. You can use this service ID to get the Sysdig access key for your instance. \n\nNext, configure a metric source by adding a Sysdig agent. This agent is responsible for collecting and forwarding metrics to Sysdig. \n  </AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"2. Create minikube cluster\">\n\n- For this section use the [Cloud Native VM](/prerequisites/#cloud-native-vm) to run minikube\n- Create the VM and ssh into it\n    ```bash\n    vagrant up\n    vagrant ssh\n    ```\n- Login as root\n    ```bash\n    sudo su\n    ```\n- Ignore the login message about minikube, we need to create the minikube as root with no driver\n    ```bash\n    minikube start --driver=none\n    source /home/vagrant/.bashrc\n    ```\n\n</AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"3. Install Sysdig agent\">\n\n- Login as root if not already\n    ```bash\n    sudo su\n    ```\n\n- Setup the configuration variable for Sysdig Agent, replace the variables with valid values, you can get this from your Sysdig instance on IBM Cloud console:\n    ```bash\n    SYSDIG_ACCESS_KEY=\"INSERT KEY HERE\"\n    REGION=\"us-south | us-east | eu-de | eu-gb | jp-tok | au-syd\"\n    COLLECTOR_ENDPOINT=\"ingest.${REGION}.monitoring.cloud.ibm.com\"\n    TAG_DATA=\"cloudnative:bootcamp\"\n    ```\n    - **SYSDIG_ACCESS_KEY** is the ingestion key for the instance that you previously created.\n    - **COLLECTOR_ENDPOINT** is the ingestion URL for the region where the monitoring instance is available that you previously retrieved.\n    - **TAG_DATA** are comma-separated tags that are formatted as TAG_NAME:TAG_VALUE. You can associate one or more tags to your Sysdig agent. For example: role:serviceX,location:us-south. Later on, you can use these tags to identify metrics from the environment where the agent is running.\n\n\n- Run the following command to download the install script and execute\n    ```bash\n    curl -sL https://ibm.biz/install-sysdig-k8s-agent | \\\n    bash -s -- \\\n    -a ${SYSDIG_ACCESS_KEY} \\\n    -c ${COLLECTOR_ENDPOINT} \\\n    -ac 'sysdig_capture_enabled: false' \\\n    -t ${TAG_DATA} \\\n    -aws\n    ```\n\n</AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"4. Access the Dashboards\">\n\n- Open Sysdig \n- Select Overview\n- Explore the Kubernetes Dashboards, select Explore->Kubernetes\n\n- [Cluster](https://docs.sysdig.com/en/clusters-data.html)\n\n![clusters](./images/overview-clusters.png)\n\n- [Nodes](https://docs.sysdig.com/en/nodes-data.html)\n\n![nodes](./images/overview-nodes.png)\n\n- [Namespaces](https://docs.sysdig.com/en/namespaces-data.html)\n\n![namespaces](./images/overview-namespaces.png)\n\n- [Workloads](https://docs.sysdig.com/en/workloads-data.html)\n\n![workloads](./images/overview-workloads.png)\n\n\n\n  </AccordionItem>\n</Accordion>\n\n<Accordion>\n  <AccordionItem title=\"5. Remove the Sysdig agent\">\n\n- Delete the namespace where the Sysdig agent is installed\n    ```bash\n    kubectl delete ns ibm-observe\n    ```\n\n\n  </AccordionItem>\n</Accordion>\n","frontmatter":{"title":"Sysdig with minikube","description":"Lab to show how to connect minikube to Sysdig"},"fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/src/pages/electives/monitoring/sysdig/activities/minikube/index.mdx"}}},"staticQueryHashes":["1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","63531786","63531786","768070550"]}